# âœ… ç™»å½•é—®é¢˜å·²è§£å†³

**è§£å†³æ—¶é—´**: 2024-12-25  
**é—®é¢˜**: ç”¨æˆ·æ— æ³•ç™»å½•ï¼Œç™»å½•åæ— æ³•è¿›å…¥ç³»ç»Ÿ  
**çŠ¶æ€**: âœ… å·²è§£å†³

---

## ğŸ› å‘ç°çš„é—®é¢˜

### é—®é¢˜: åç«¯æœåŠ¡å¯åŠ¨å¤±è´¥

**é”™è¯¯ä¿¡æ¯**:
```
Error: Cannot find module '../../middleware/auth'
```

**å½±å“**:
- åç«¯æœåŠ¡æ— æ³•å¯åŠ¨
- æ‰€æœ‰ API è¯·æ±‚å¤±è´¥
- ç”¨æˆ·æ— æ³•ç™»å½•

---

## âœ… è§£å†³æ–¹æ¡ˆ

### ä¿®å¤çš„æ–‡ä»¶

#### 1. server/src/routes/admin/orders.ts
**ä¿®æ”¹å‰**:
```typescript
import { authenticate, requireAdmin } from '../../middleware/auth';
```

**ä¿®æ”¹å**:
```typescript
import { authenticate, requireAdmin } from '../../middleware/adminAuth';
```

#### 2. server/src/routes/admin/audit-logs.ts
**ä¿®æ”¹å‰**:
```typescript
import { authenticate, requireAdmin } from '../../middleware/auth';
```

**ä¿®æ”¹å**:
```typescript
import { authenticate, requireAdmin } from '../../middleware/adminAuth';
```

---

## âœ… éªŒè¯ç»“æœ

### 1. æœåŠ¡çŠ¶æ€
- âœ… åç«¯æœåŠ¡: è¿è¡Œæ­£å¸¸ (http://localhost:3000)
- âœ… å‰ç«¯æœåŠ¡: è¿è¡Œæ­£å¸¸ (http://localhost:5173)
- âœ… Landing é¡µé¢: è¿è¡Œæ­£å¸¸ (http://localhost:8080)
- âœ… æ•°æ®åº“: è¿æ¥æ­£å¸¸
- âœ… Redis: è¿æ¥æ­£å¸¸
- âœ… WebSocket: è¿è¡Œæ­£å¸¸

### 2. ç™»å½•åŠŸèƒ½æµ‹è¯•
```bash
# æµ‹è¯•ç™»å½• API
curl -X POST http://localhost:3000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"admin","password":"admin123"}'
```

**ç»“æœ**: âœ… æˆåŠŸè¿”å› token

### 3. Token éªŒè¯æµ‹è¯•
```bash
# ä½¿ç”¨ token è®¿é—®å—ä¿æŠ¤çš„ API
curl -H "Authorization: Bearer $TOKEN" \
  http://localhost:3000/api/users/profile
```

**ç»“æœ**: âœ… æˆåŠŸè¿”å›ç”¨æˆ·ä¿¡æ¯

---

## ğŸ¯ å¦‚ä½•ä½¿ç”¨ç³»ç»Ÿ

### æ–¹å¼1: ä» Landing é¡µé¢ç™»å½•ï¼ˆæ¨èï¼‰

1. **è®¿é—® Landing é¡µé¢**
   ```
   æ‰“å¼€æµè§ˆå™¨è®¿é—®: http://localhost:8080
   ```

2. **ç‚¹å‡»ç™»å½•**
   - ç‚¹å‡»å³ä¸Šè§’"ç™»å½•"æŒ‰é’®
   - æˆ–è®¿é—®: http://localhost:8080/login

3. **è¾“å…¥å‡­æ®**
   - ç”¨æˆ·å: `admin`
   - å¯†ç : `admin123`

4. **ç™»å½•æˆåŠŸ**
   - ä¼šæ˜¾ç¤º"ç™»å½•æˆåŠŸ"æç¤º
   - è‡ªåŠ¨è·³è½¬åˆ°é¦–é¡µ
   - å³ä¸Šè§’æ˜¾ç¤ºç”¨æˆ·å

5. **è¿›å…¥ç³»ç»Ÿ**
   - ç‚¹å‡»å³ä¸Šè§’"è¿›å…¥ç³»ç»Ÿ"æŒ‰é’®
   - æˆ–ç‚¹å‡»é¦–é¡µçš„"ç«‹å³å¼€å§‹"æŒ‰é’®
   - ä¼šè·³è½¬åˆ°ç³»ç»Ÿä¸»ç•Œé¢ (http://localhost:5173)

### æ–¹å¼2: ç›´æ¥è®¿é—®ç³»ç»Ÿ

1. **ç›´æ¥è®¿é—®å‰ç«¯**
   ```
   æ‰“å¼€æµè§ˆå™¨è®¿é—®: http://localhost:5173
   ```

2. **ç™»å½•**
   - è¾“å…¥ç”¨æˆ·å: `admin`
   - è¾“å…¥å¯†ç : `admin123`
   - ç‚¹å‡»"ç™»å½•"

3. **è¿›å…¥ç³»ç»Ÿ**
   - ç™»å½•æˆåŠŸåè‡ªåŠ¨è¿›å…¥ç³»ç»Ÿä¸»ç•Œé¢

---

## ğŸ“ æµ‹è¯•è´¦å·

### ç®¡ç†å‘˜è´¦å·
- **ç”¨æˆ·å**: admin
- **å¯†ç **: admin123
- **è§’è‰²**: admin
- **æƒé™**: æ‰€æœ‰åŠŸèƒ½

### æ™®é€šç”¨æˆ·è´¦å·
å¦‚éœ€åˆ›å»ºæ–°ç”¨æˆ·ï¼Œè¯·ä½¿ç”¨ç®¡ç†å‘˜è´¦å·ç™»å½•ååœ¨"ç”¨æˆ·ç®¡ç†"ä¸­åˆ›å»ºã€‚

---

## ğŸ” å¦‚æœä»ç„¶é‡åˆ°é—®é¢˜

### 1. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
```
1. æŒ‰ Ctrl+Shift+Delete (Windows) æˆ– Cmd+Shift+Delete (Mac)
2. é€‰æ‹©"ç¼“å­˜çš„å›¾ç‰‡å’Œæ–‡ä»¶"
3. ç‚¹å‡»"æ¸…é™¤æ•°æ®"
4. åˆ·æ–°é¡µé¢
```

### 2. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°
```
1. æŒ‰ F12 æ‰“å¼€å¼€å‘è€…å·¥å…·
2. åˆ‡æ¢åˆ° Console æ ‡ç­¾é¡µ
3. æŸ¥çœ‹æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯
4. å°†é”™è¯¯ä¿¡æ¯æˆªå›¾æˆ–å¤åˆ¶
```

### 3. æ£€æŸ¥ç½‘ç»œè¯·æ±‚
```
1. æŒ‰ F12 æ‰“å¼€å¼€å‘è€…å·¥å…·
2. åˆ‡æ¢åˆ° Network æ ‡ç­¾é¡µ
3. å°è¯•ç™»å½•
4. æŸ¥çœ‹ç™»å½•è¯·æ±‚çš„çŠ¶æ€ç å’Œå“åº”
5. å¦‚æœå¤±è´¥ï¼Œå³é”®ç‚¹å‡»è¯·æ±‚ â†’ Copy â†’ Copy as cURL
```

### 4. é‡å¯æœåŠ¡
```bash
# åœæ­¢æ‰€æœ‰æœåŠ¡ (Ctrl+C)

# é‡å¯åç«¯
cd server && npm run dev

# é‡å¯å‰ç«¯
cd client && npm run dev

# é‡å¯ Landing
cd landing && npm run dev
```

### 5. æ£€æŸ¥ç«¯å£å ç”¨
```bash
# æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨
lsof -i :3000  # åç«¯
lsof -i :5173  # å‰ç«¯
lsof -i :8080  # Landing
```

---

## ğŸ“Š ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Landing Page   â”‚  http://localhost:8080
â”‚  (è¥é”€ç½‘ç«™)      â”‚  - é¦–é¡µã€åŠŸèƒ½ä»‹ç»
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  - ç™»å½•é¡µé¢
         â”‚
         â”‚ ç™»å½•æˆåŠŸ
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Client App     â”‚  http://localhost:5173
â”‚  (ç³»ç»Ÿä¸»ç•Œé¢)    â”‚  - æ–‡ç« ç®¡ç†
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  - å‘å¸ƒç®¡ç†
         â”‚           - ç”¨æˆ·ä¸­å¿ƒ
         â”‚
         â”‚ API è¯·æ±‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Backend API    â”‚  http://localhost:3000
â”‚  (åç«¯æœåŠ¡)      â”‚  - RESTful API
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  - WebSocket
         â”‚           - æ•°æ®åº“
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PostgreSQL     â”‚  localhost:5432
â”‚  (æ•°æ®åº“)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ… é—®é¢˜å·²è§£å†³

- âœ… åç«¯æœåŠ¡æ­£å¸¸è¿è¡Œ
- âœ… ç™»å½•åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- âœ… Token éªŒè¯æ­£å¸¸
- âœ… æ‰€æœ‰ API å¯ä»¥è®¿é—®
- âœ… ç”¨æˆ·å¯ä»¥æ­£å¸¸ç™»å½•å’Œä½¿ç”¨ç³»ç»Ÿ

---

**è§£å†³æ—¶é—´**: 2024-12-25  
**ä¿®å¤æ–‡ä»¶**: 2ä¸ª  
**æµ‹è¯•çŠ¶æ€**: âœ… å…¨éƒ¨é€šè¿‡  
**ç³»ç»ŸçŠ¶æ€**: ğŸŸ¢ æ­£å¸¸è¿è¡Œ  

**ğŸ‰ ç³»ç»Ÿç°åœ¨å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ï¼**

