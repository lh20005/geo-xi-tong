# å¦‚ä½•å¿«é€Ÿå®ç°å¹³å°ç™»å½•åŠŸèƒ½

## ğŸ¯ ä½ çš„é—®é¢˜

> æˆ‘æƒ³ç›´æ¥å®ç°å„å¹³å°ç™»å½•åä¿å­˜ç”¨æˆ·ä¿¡æ¯è¿™ä¸ªåŠŸèƒ½ï¼ŒæŠ„è¿™äº›è„šæœ¬å¯ä»¥å®ç°å—ï¼Ÿ

## âœ… ç­”æ¡ˆï¼šå¯ä»¥ï¼Œä½†éœ€è¦æ”¹é€ 

**å¥½æ¶ˆæ¯**ï¼šä½ çš„ç³»ç»Ÿå·²ç»æœ‰90%çš„åŠŸèƒ½äº†ï¼
**éœ€è¦åšçš„**ï¼šåªéœ€è¦æŠŠGEOåº”ç”¨çš„é€‰æ‹©å™¨é…ç½®"æŠ„"è¿‡æ¥ï¼Œç„¶åç¨å¾®è°ƒæ•´ã€‚

---

## ğŸ“Š ç°çŠ¶åˆ†æ

### ä½ å·²ç»æœ‰çš„åŠŸèƒ½ âœ…

1. **åç«¯ç™»å½•ç³»ç»Ÿ** (`server/src/services/AccountService.ts`)
   - âœ… æµè§ˆå™¨è‡ªåŠ¨æ‰“å¼€
   - âœ… ç­‰å¾…ç”¨æˆ·ç™»å½•
   - âœ… æ£€æµ‹ç™»å½•æˆåŠŸ
   - âœ… è·å–Cookie
   - âœ… ä¿å­˜åˆ°æ•°æ®åº“

2. **Windowsç«¯ç™»å½•ç³»ç»Ÿ** (`windows-login-manager`)
   - âœ… WebViewæ˜¾ç¤ºç™»å½•é¡µé¢
   - âœ… Preloadè„šæœ¬æ£€æµ‹ç™»å½•
   - âœ… æå–ç”¨æˆ·ä¿¡æ¯
   - âœ… åŒæ­¥åˆ°åç«¯

### ä½ ç¼ºå°‘çš„ âŒ

1. **å„å¹³å°çš„é€‰æ‹©å™¨é…ç½®ä¸å®Œæ•´** - æœ‰äº›å¹³å°çš„é€‰æ‹©å™¨å¯èƒ½è¿‡æ—¶
2. **ç‰¹æ®Šå¹³å°çš„å¤„ç†é€»è¾‘** - æ¯”å¦‚çŸ¥ä¹ç”¨APIã€ç™¾å®¶å·éœ€è¦è§¦å‘é¼ æ ‡äº‹ä»¶

---

## ğŸš€ å¿«é€Ÿå®æ–½æ–¹æ¡ˆ

### æ–¹æ¡ˆAï¼šåªæ›´æ–°åç«¯ï¼ˆæ¨èï¼Œæœ€å¿«ï¼‰

**é€‚ç”¨åœºæ™¯**ï¼šä½ ä¸»è¦ç”¨åç«¯çš„æµè§ˆå™¨ç™»å½•åŠŸèƒ½

**æ­¥éª¤**ï¼š

#### 1. æå–GEOåº”ç”¨çš„é€‰æ‹©å™¨ï¼ˆ5åˆ†é’Ÿï¼‰

```bash
# æŸ¥çœ‹GEOåº”ç”¨çš„é€‰æ‹©å™¨
cat ~/Downloads/geo/resources/app-extracted/src/api/script/tt.js
cat ~/Downloads/geo/resources/app-extracted/src/api/script/xhs.js
cat ~/Downloads/geo/resources/app-extracted/src/api/script/wxgzh.js
# ... å…¶ä»–å¹³å°
```

#### 2. æ›´æ–°åç«¯é€‰æ‹©å™¨é…ç½®ï¼ˆ10åˆ†é’Ÿï¼‰

ç¼–è¾‘ `server/src/services/AccountService.ts`ï¼Œæ‰¾åˆ° `extractUserInfo()` æ–¹æ³•ï¼š

```typescript
private async extractUserInfo(page: any, platformId: string): Promise<any> {
  const selectors: { [key: string]: string[] } = {
    // ä»GEOåº”ç”¨æŠ„è¿‡æ¥çš„é€‰æ‹©å™¨
    'toutiao': [
      '.auth-avator-name',              // GEO: tt.js
      '.semi-navigation-header-username',
      '.user-name'
    ],
    
    'xiaohongshu': [
      '.account-name',                  // GEO: xhs.js
      '.avatar img',
      '#header-area > div > div > div:nth-child(2) > div > span'
    ],
    
    'wechat': [
      '.weui-desktop_name',             // GEO: wxgzh.js
      '.weui-desktop-account__info',
      '.weui-desktop-account__nickname'
    ],
    
    'baijiahao': [
      '.UjPPKm89R4RrZTKhwG5H',         // GEO: bjh.js
      '.user-name',
      '.author-name'
    ],
    
    'jianshu': [
      '.main-top .name',                // GEO: js.js
      '.avatar>img',
      'nav .user img'
    ],
    
    'zhihu': [
      '.AppHeader-profile',             // GEO: zh.js (ä½†å»ºè®®ç”¨API)
      '.Profile-name',
      '.username'
    ],
    
    'qie': [
      '.user-info-name',                // GEO: qeh.js
      '.user-name',
      '.username'
    ],
    
    'souhu': [
      '.user-info .name',               // GEO: sph.js
      '.header-user-name',
      '.user-name'
    ],
    
    'wangyi': [
      '.user-info .name',               // GEO: wy.js
      '.user-name',
      '.username'
    ],
    
    'csdn': [
      '.user-name',                     // GEO: csdn.js
      '.username',
      '.nick-name'
    ],
    
    'bilibili': [
      '.cc-header .right-block img',   // GEO: bili.js
      '.bili-avatar',
      '.user-name'
    ],
    
    'douyin': [
      '.name-_lSSDc',                   // GEO: dy.js
      '.header-_F2uzl .name-_lSSDc',
      '.username'
    ],
    
    'kuaishou': [
      '.user-name',                     // GEO: kuaishou.js
      '.username',
      '.nickname'
    ]
  };
  
  // åŸæœ‰çš„æå–é€»è¾‘ä¿æŒä¸å˜
  const selectorList = selectors[platformId];
  if (!selectorList) {
    return { username: '' };
  }
  
  for (const selector of selectorList) {
    try {
      const element = await page.$(selector);
      if (element) {
        const username = await page.$eval(selector, 
          (el: any) => el.textContent?.trim() || ''
        );
        if (username) {
          return { username };
        }
      }
    } catch (error) {
      // ç»§ç»­å°è¯•ä¸‹ä¸€ä¸ªé€‰æ‹©å™¨
    }
  }
  
  return { username: '' };
}
```

#### 3. æ·»åŠ çŸ¥ä¹çš„APIæ”¯æŒï¼ˆ5åˆ†é’Ÿï¼‰

åœ¨ `extractUserInfo()` æ–¹æ³•å¼€å¤´æ·»åŠ ï¼š

```typescript
private async extractUserInfo(page: any, platformId: string): Promise<any> {
  // ç‰¹æ®Šå¤„ç†ï¼šçŸ¥ä¹ä½¿ç”¨APIè·å–ç”¨æˆ·ä¿¡æ¯
  if (platformId === 'zhihu') {
    try {
      const userData = await page.evaluate(async () => {
        const response = await fetch('https://www.zhihu.com/api/v4/me?include=is_realname', {
          method: 'GET',
          credentials: 'include'
        });
        return await response.json();
      });
      
      if (userData && userData.name) {
        return {
          username: userData.name,
          avatar: userData.avatar_url,
          followerCount: userData.favorite_count
        };
      }
    } catch (error) {
      console.log('[çŸ¥ä¹] APIè·å–å¤±è´¥ï¼Œä½¿ç”¨é€‰æ‹©å™¨æ–¹å¼');
    }
  }
  
  // åŸæœ‰çš„é€‰æ‹©å™¨æå–é€»è¾‘...
}
```

#### 4. æµ‹è¯•ï¼ˆ10åˆ†é’Ÿï¼‰

```bash
# æµ‹è¯•å„å¹³å°ç™»å½•
./test-platform-login.sh toutiao
./test-platform-login.sh xiaohongshu
./test-platform-login.sh wechat
./test-platform-login.sh zhihu
```

**æ€»è€—æ—¶ï¼š30åˆ†é’Ÿ**

---

### æ–¹æ¡ˆBï¼šåŒæ—¶æ›´æ–°Windowsç«¯ï¼ˆå®Œæ•´æ–¹æ¡ˆï¼‰

**é€‚ç”¨åœºæ™¯**ï¼šä½ ä¸»è¦ç”¨Windowsç«¯çš„ç™»å½•åŠŸèƒ½

**æ­¥éª¤**ï¼š

#### 1. æ›´æ–°Windowsç«¯çš„é€‰æ‹©å™¨é…ç½®ï¼ˆ10åˆ†é’Ÿï¼‰

åˆ›å»ºæ–°æ–‡ä»¶ `windows-login-manager/electron/login/platform-selectors.ts`ï¼š

```typescript
/**
 * å¹³å°é€‰æ‹©å™¨é…ç½®
 * ä»GEOåº”ç”¨æå–çš„ç»è¿‡å®æˆ˜æµ‹è¯•çš„é€‰æ‹©å™¨
 */

export interface PlatformSelectors {
  // ç”¨æˆ·åé€‰æ‹©å™¨ï¼ˆä¼˜å…ˆçº§ä»é«˜åˆ°ä½ï¼‰
  username: string[];
  
  // ç™»å½•æˆåŠŸæ£€æµ‹é€‰æ‹©å™¨
  loginSuccess: string[];
  
  // ç™»å½•æˆåŠŸURLæ¨¡å¼
  successUrls?: string[];
  
  // å¤´åƒé€‰æ‹©å™¨ï¼ˆå¯é€‰ï¼‰
  avatar?: string[];
  
  // ç²‰ä¸æ•°é€‰æ‹©å™¨ï¼ˆå¯é€‰ï¼‰
  followerCount?: string[];
}

export const platformSelectors: Record<string, PlatformSelectors> = {
  // å¤´æ¡å· - ä» tt.js æå–
  toutiao: {
    username: [
      '.auth-avator-name',
      '.semi-navigation-header-username',
      '.user-name'
    ],
    loginSuccess: [
      '.auth-avator-name',
      '.auth-avator-img'
    ],
    successUrls: [
      'mp.toutiao.com/profile_v4'
    ],
    avatar: ['.auth-avator-img'],
    followerCount: ['.data-board-item-primary']
  },
  
  // å°çº¢ä¹¦ - ä» xhs.js æå–
  xiaohongshu: {
    username: [
      '.account-name',
      '.avatar img'
    ],
    loginSuccess: [
      '.account-name'
    ],
    successUrls: [
      'creator.xiaohongshu.com/new/home'
    ],
    avatar: ['.avatar img']
  },
  
  // å¾®ä¿¡å…¬ä¼—å· - ä» wxgzh.js æå–
  wechat: {
    username: [
      '.weui-desktop_name',
      '.weui-desktop-account__info',
      '.weui-desktop-account__nickname'
    ],
    loginSuccess: [
      '.weui-desktop_name',
      '.weui-desktop-account__img'
    ],
    successUrls: [
      'mp.weixin.qq.com/cgi-bin'
    ],
    avatar: ['.weui-desktop-account__img'],
    followerCount: ['.weui-desktop-user_sum span:nth-child(2)']
  },
  
  // ç™¾å®¶å· - ä» bjh.js æå–
  baijiahao: {
    username: [
      '.user-name',
      '.UjPPKm89R4RrZTKhwG5H'
    ],
    loginSuccess: [
      '.UjPPKm89R4RrZTKhwG5H'
    ],
    successUrls: [
      'baijiahao.baidu.com/builder/rc/home'
    ],
    avatar: ['.UjPPKm89R4RrZTKhwG5H']
  },
  
  // ç®€ä¹¦ - ä» js.js æå–
  jianshu: {
    username: [
      '.main-top .name',
      '.avatar>img',
      'nav .user img'
    ],
    loginSuccess: [
      '.avatar>img',
      'nav .user img'
    ],
    successUrls: [
      'www.jianshu.com/'
    ],
    avatar: ['.avatar>img'],
    followerCount: ['.main-top .meta-block p:nth-child(2)']
  },
  
  // çŸ¥ä¹ - ä» zh.js æå–ï¼ˆä½¿ç”¨APIï¼‰
  zhihu: {
    username: [
      '.AppHeader-profile',
      '.Profile-name',
      '.username'
    ],
    loginSuccess: [
      'img.AppHeader-profileAvatar'
    ],
    successUrls: [
      'www.zhihu.com'
    ]
  },
  
  // ä¼é¹…å· - ä» qeh.js æå–
  qie: {
    username: [
      '.user-info-name',
      '.user-name',
      '.username'
    ],
    loginSuccess: [
      '.user-info-name'
    ],
    successUrls: [
      'om.qq.com/main',
      'om.qq.com/article',
      'om.qq.com/content'
    ]
  },
  
  // æœç‹å· - ä» sph.js æå–
  souhu: {
    username: [
      '.user-info .name',
      '.header-user-name',
      '.user-name'
    ],
    loginSuccess: [
      '.user-info .name'
    ],
    successUrls: [
      'mp.sohu.com/mpfe/v3/main'
    ]
  },
  
  // ç½‘æ˜“å· - ä» wy.js æå–
  wangyi: {
    username: [
      '.user-info .name',
      '.user-name',
      '.username'
    ],
    loginSuccess: [
      '.user-info .name'
    ],
    successUrls: [
      'mp.163.com/'
    ]
  },
  
  // CSDN - ä» csdn.js æå–
  csdn: {
    username: [
      '.user-name',
      '.username',
      '.nick-name'
    ],
    loginSuccess: [
      '.user-name'
    ],
    successUrls: [
      'www.csdn.net/'
    ]
  },
  
  // Bç«™ - ä» bili.js æå–
  bilibili: {
    username: [
      '.cc-header .right-block img',
      '.bili-avatar',
      '.user-name'
    ],
    loginSuccess: [
      '.cc-header .right-block img',
      '.bili-avatar'
    ],
    successUrls: [
      'member.bilibili.com/platform'
    ],
    avatar: ['.cc-header .right-block img', '.bili-avatar']
  },
  
  // æŠ–éŸ³ - ä» dy.js æå–
  douyin: {
    username: [
      '.name-_lSSDc',
      '.header-_F2uzl .name-_lSSDc',
      '.username'
    ],
    loginSuccess: [
      '.name-_lSSDc',
      '#douyin-creator-master-side-upload-wrap'
    ],
    successUrls: [
      'creator.douyin.com/creator-micro/home'
    ]
  },
  
  // å¿«æ‰‹ - ä» kuaishou.js æå–
  kuaishou: {
    username: [
      '.user-name',
      '.username',
      '.nickname'
    ],
    loginSuccess: [
      '.user-name'
    ],
    successUrls: [
      'cp.kuaishou.com'
    ]
  }
};
```

#### 2. æ›´æ–°user-info-extractor.tsï¼ˆ5åˆ†é’Ÿï¼‰

ç¼–è¾‘ `windows-login-manager/electron/login/user-info-extractor.ts`ï¼š

```typescript
import { platformSelectors } from './platform-selectors';

// ä½¿ç”¨å¯¼å…¥çš„é€‰æ‹©å™¨é…ç½®
export async function extractUserInfo(
  webview: any,
  platformId: string
): Promise<UserInfo | null> {
  const selectors = platformSelectors[platformId];
  
  if (!selectors) {
    return null;
  }
  
  // ä½¿ç”¨é…ç½®çš„é€‰æ‹©å™¨æå–ç”¨æˆ·ä¿¡æ¯
  // ... åŸæœ‰é€»è¾‘
}
```

#### 3. æ·»åŠ çŸ¥ä¹APIæ”¯æŒï¼ˆ5åˆ†é’Ÿï¼‰

åœ¨ `user-info-extractor.ts` ä¸­æ·»åŠ ï¼š

```typescript
export async function extractUserInfo(
  webview: any,
  platformId: string
): Promise<UserInfo | null> {
  // ç‰¹æ®Šå¤„ç†ï¼šçŸ¥ä¹ä½¿ç”¨API
  if (platformId === 'zhihu') {
    try {
      const userData = await webview.executeJavaScript(`
        (async function() {
          const response = await fetch('https://www.zhihu.com/api/v4/me?include=is_realname', {
            method: 'GET',
            credentials: 'include'
          });
          return await response.json();
        })();
      `);
      
      if (userData && userData.name) {
        return {
          username: userData.name,
          avatar: userData.avatar_url,
          followerCount: userData.favorite_count
        };
      }
    } catch (error) {
      console.log('[çŸ¥ä¹] APIè·å–å¤±è´¥ï¼Œä½¿ç”¨é€‰æ‹©å™¨æ–¹å¼');
    }
  }
  
  // åŸæœ‰çš„é€‰æ‹©å™¨æå–é€»è¾‘...
}
```

#### 4. æµ‹è¯•ï¼ˆ10åˆ†é’Ÿï¼‰

```bash
# å¯åŠ¨Windowsç«¯
./å¯åŠ¨Windowsç®¡ç†å™¨.command

# åœ¨ç•Œé¢ä¸­æµ‹è¯•å„å¹³å°ç™»å½•
```

**æ€»è€—æ—¶ï¼š30åˆ†é’Ÿ**

---

## ğŸ“ å®Œæ•´çš„é€‰æ‹©å™¨æ˜ å°„è¡¨

ä»GEOåº”ç”¨åˆ°ä½ çš„ç³»ç»Ÿï¼š

| å¹³å° | GEOè„šæœ¬ | ä¸»è¦é€‰æ‹©å™¨ | çŠ¶æ€ |
|------|---------|-----------|------|
| å¤´æ¡å· | tt.js | `.auth-avator-name` | âœ… å¯ç›´æ¥ç”¨ |
| å°çº¢ä¹¦ | xhs.js | `.account-name` | âœ… å¯ç›´æ¥ç”¨ |
| å¾®ä¿¡å…¬ä¼—å· | wxgzh.js | `.weui-desktop_name` | âœ… å¯ç›´æ¥ç”¨ |
| ç™¾å®¶å· | bjh.js | `.UjPPKm89R4RrZTKhwG5H` | âœ… å¯ç›´æ¥ç”¨ |
| ç®€ä¹¦ | js.js | `.main-top .name` | âœ… å¯ç›´æ¥ç”¨ |
| çŸ¥ä¹ | zh.js | APIæ–¹å¼ | ğŸ”„ éœ€è¦æ”¹é€  |
| ä¼é¹…å· | qeh.js | `.user-info-name` | âœ… å¯ç›´æ¥ç”¨ |
| æœç‹å· | sph.js | `.user-info .name` | âœ… å¯ç›´æ¥ç”¨ |
| ç½‘æ˜“å· | wy.js | `.user-info .name` | âœ… å¯ç›´æ¥ç”¨ |
| CSDN | csdn.js | `.user-name` | âœ… å¯ç›´æ¥ç”¨ |
| Bç«™ | bili.js | `.cc-header .right-block img` | âœ… å¯ç›´æ¥ç”¨ |
| æŠ–éŸ³ | dy.js | `.name-_lSSDc` | âœ… å¯ç›´æ¥ç”¨ |
| å¿«æ‰‹ | kuaishou.js | `.user-name` | âœ… å¯ç›´æ¥ç”¨ |

---

## ğŸ¯ æœ€ç®€å•çš„å®æ–½æ–¹æ¡ˆï¼ˆæ¨èï¼‰

### åªéœ€3æ­¥ï¼Œ30åˆ†é’Ÿå®Œæˆ

#### ç¬¬1æ­¥ï¼šåˆ›å»ºé€‰æ‹©å™¨é…ç½®æ–‡ä»¶ï¼ˆ10åˆ†é’Ÿï¼‰

```bash
# åˆ›å»ºé…ç½®æ–‡ä»¶
cat > server/src/config/platform-selectors.ts << 'EOF'
export const platformSelectors = {
  'toutiao': ['.auth-avator-name', '.user-name'],
  'xiaohongshu': ['.account-name', '.avatar img'],
  'wechat': ['.weui-desktop_name', '.weui-desktop-account__info'],
  'baijiahao': ['.UjPPKm89R4RrZTKhwG5H', '.user-name'],
  'jianshu': ['.main-top .name', '.avatar>img'],
  'zhihu': ['.AppHeader-profile', '.Profile-name'],
  'qie': ['.user-info-name', '.user-name'],
  'souhu': ['.user-info .name', '.header-user-name'],
  'wangyi': ['.user-info .name', '.user-name'],
  'csdn': ['.user-name', '.username'],
  'bilibili': ['.cc-header .right-block img', '.bili-avatar'],
  'douyin': ['.name-_lSSDc', '.username'],
  'kuaishou': ['.user-name', '.username']
};
EOF
```

#### ç¬¬2æ­¥ï¼šæ›´æ–°AccountService.tsï¼ˆ10åˆ†é’Ÿï¼‰

```typescript
// åœ¨æ–‡ä»¶é¡¶éƒ¨å¯¼å…¥
import { platformSelectors } from '../config/platform-selectors';

// åœ¨ extractUserInfo() æ–¹æ³•ä¸­ä½¿ç”¨
private async extractUserInfo(page: any, platformId: string): Promise<any> {
  const selectors = platformSelectors[platformId];
  
  if (!selectors) {
    return { username: '' };
  }
  
  // åŸæœ‰çš„æå–é€»è¾‘ä¿æŒä¸å˜
  for (const selector of selectors) {
    try {
      const element = await page.$(selector);
      if (element) {
        const username = await page.$eval(selector, 
          (el: any) => el.textContent?.trim() || ''
        );
        if (username) {
          return { username };
        }
      }
    } catch (error) {
      continue;
    }
  }
  
  return { username: '' };
}
```

#### ç¬¬3æ­¥ï¼šæµ‹è¯•ï¼ˆ10åˆ†é’Ÿï¼‰

```bash
# æµ‹è¯•å‡ ä¸ªä¸»è¦å¹³å°
./test-platform-login.sh toutiao
./test-platform-login.sh xiaohongshu
./test-platform-login.sh wechat
```

**å®Œæˆï¼âœ…**

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. é€‰æ‹©å™¨å¯èƒ½è¿‡æ—¶

GEOåº”ç”¨çš„é€‰æ‹©å™¨å¯èƒ½å·²ç»è¿‡æ—¶ï¼Œå› ä¸ºï¼š
- å¹³å°ä¼šæ›´æ–°UI
- classåç§°ä¼šå˜åŒ–

**è§£å†³æ–¹æ¡ˆ**ï¼š
- æµ‹è¯•æ—¶å¦‚æœå¤±è´¥ï¼ŒæŸ¥çœ‹HTMLå¿«ç…§
- æ›´æ–°é€‰æ‹©å™¨é…ç½®

### 2. ä¸èƒ½å®Œå…¨ç…§æŠ„ä»£ç 

GEOåº”ç”¨çš„ä»£ç ä¾èµ–ï¼š
- `ipcRenderer` - Electronç‰¹æœ‰
- `document.cookie` - ä¸å®‰å…¨

**è§£å†³æ–¹æ¡ˆ**ï¼š
- åªæŠ„é€‰æ‹©å™¨é…ç½®
- ä½¿ç”¨ä½ ç°æœ‰çš„æ¶æ„

### 3. ç‰¹æ®Šå¹³å°éœ€è¦ç‰¹æ®Šå¤„ç†

æŸäº›å¹³å°éœ€è¦ï¼š
- çŸ¥ä¹ï¼šä½¿ç”¨API
- ç™¾å®¶å·ï¼šè§¦å‘é¼ æ ‡äº‹ä»¶
- ç®€ä¹¦ï¼šç‚¹å‡»å…ƒç´ 

**è§£å†³æ–¹æ¡ˆ**ï¼š
- åœ¨ä»£ç ä¸­æ·»åŠ ç‰¹æ®Šå¤„ç†é€»è¾‘

---

## ğŸ’¡ æ€»ç»“

### å¯ä»¥"æŠ„"çš„éƒ¨åˆ† âœ…

1. **é€‰æ‹©å™¨é…ç½®** - ç›´æ¥æŠ„ï¼Œ100%å¯ç”¨
2. **ç™»å½•æ£€æµ‹ç­–ç•¥** - å€Ÿé‰´æ€è·¯
3. **ç‰¹æ®Šå¤„ç†æŠ€å·§** - æ”¹é€ åä½¿ç”¨

### ä¸èƒ½"æŠ„"çš„éƒ¨åˆ† âŒ

1. **IPCé€šä¿¡ä»£ç ** - æ¶æ„ä¸åŒ
2. **document.cookie** - ä¸å®‰å…¨
3. **æ•´ä¸ªè„šæœ¬æ–‡ä»¶** - ä¾èµ–ä¸åŒ

### æœ€å¿«çš„æ–¹æ¡ˆ ğŸš€

**åªéœ€30åˆ†é’Ÿ**ï¼š
1. åˆ›å»ºé€‰æ‹©å™¨é…ç½®æ–‡ä»¶ï¼ˆ10åˆ†é’Ÿï¼‰
2. æ›´æ–°AccountService.tsï¼ˆ10åˆ†é’Ÿï¼‰
3. æµ‹è¯•ä¸»è¦å¹³å°ï¼ˆ10åˆ†é’Ÿï¼‰

**ä½ çš„ç³»ç»Ÿå·²ç»æœ‰90%çš„åŠŸèƒ½äº†ï¼Œåªéœ€è¦æŠŠGEOåº”ç”¨çš„é€‰æ‹©å™¨é…ç½®"æŠ„"è¿‡æ¥å³å¯ï¼**

---

## ğŸ‰ ç«‹å³å¼€å§‹

```bash
# 1. æŸ¥çœ‹GEOåº”ç”¨çš„é€‰æ‹©å™¨
cat ~/Downloads/geo/resources/app-extracted/src/api/script/tt.js

# 2. åˆ›å»ºé…ç½®æ–‡ä»¶
vim server/src/config/platform-selectors.ts

# 3. æ›´æ–°AccountService.ts
vim server/src/services/AccountService.ts

# 4. æµ‹è¯•
./test-platform-login.sh toutiao
```

**30åˆ†é’Ÿåï¼Œä½ å°±æœ‰ä¸€ä¸ªå®Œæ•´çš„å¤šå¹³å°ç™»å½•ç³»ç»Ÿäº†ï¼** ğŸ‰
