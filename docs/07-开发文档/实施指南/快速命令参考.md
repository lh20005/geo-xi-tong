# GEOç³»ç»Ÿ - å¿«é€Ÿå‘½ä»¤å‚è€ƒ

## ğŸ¯ ä¸€é”®å¯åŠ¨ï¼ˆæ¨èï¼‰

```bash
# å‰å°å¯åŠ¨ï¼ˆå¼€å‘è°ƒè¯•ï¼‰
åŒå‡»: å¯åŠ¨GEOç³»ç»Ÿ.command

# åå°å¯åŠ¨ï¼ˆæ—¥å¸¸ä½¿ç”¨ï¼‰
åŒå‡»: åå°å¯åŠ¨GEOç³»ç»Ÿ.command

# åœæ­¢æœåŠ¡
åŒå‡»: åœæ­¢GEOç³»ç»Ÿ.command

# é‡å¯æœåŠ¡
åŒå‡»: é‡å¯GEOç³»ç»Ÿ.command

# æ£€æŸ¥çŠ¶æ€
åŒå‡»: æ£€æŸ¥æœåŠ¡çŠ¶æ€.command
```

---

## ğŸ“¦ NPM å‘½ä»¤

### å¯åŠ¨æœåŠ¡
```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡ï¼ˆå‰å°ï¼‰
npm run dev:all

# å¯åŠ¨åç«¯+å‰ç«¯
npm run dev

# å•ç‹¬å¯åŠ¨
npm run server:dev    # åç«¯
npm run client:dev    # å‰ç«¯
npm run landing:dev   # è¥é”€ç½‘ç«™
npm run windows:dev   # Windowsç®¡ç†å™¨
```

### æ•°æ®åº“ç®¡ç†
```bash
# å¯åŠ¨æ•°æ®åº“æœåŠ¡
npm run start:services

# åœæ­¢æ•°æ®åº“æœåŠ¡
npm run stop:services

# é‡å¯æ•°æ®åº“æœåŠ¡
npm run restart:services

# è¿è¡Œæ•°æ®åº“è¿ç§»
npm run db:migrate

# é‡ç½®æ•°æ®åº“
npm run db:reset
```

### æ—¥å¿—æŸ¥çœ‹
```bash
# æŸ¥çœ‹åç«¯æ—¥å¿—
npm run logs:backend

# æŸ¥çœ‹å‰ç«¯æ—¥å¿—
npm run logs:frontend

# æŸ¥çœ‹è¥é”€ç½‘ç«™æ—¥å¿—
npm run logs:landing

# æŸ¥çœ‹Windowsç®¡ç†å™¨æ—¥å¿—
npm run logs:windows

# æŸ¥çœ‹æ‰€æœ‰æ—¥å¿—
npm run logs:all
```

### ç³»ç»Ÿç»´æŠ¤
```bash
# æ£€æŸ¥æœåŠ¡çŠ¶æ€
npm run status

# æ¸…ç†æ—¥å¿—æ–‡ä»¶
npm run clean:logs

# æ¸…ç†ä¾èµ–åŒ…
npm run clean:deps

# æ¸…ç†æ‰€æœ‰
npm run clean:all

# é‡æ–°å®‰è£…ä¾èµ–
npm run install:all

# å®Œæ•´è®¾ç½®ï¼ˆé¦–æ¬¡ä½¿ç”¨ï¼‰
npm run setup
```

### æ„å»ºæ‰“åŒ…
```bash
# æ„å»ºæ‰€æœ‰é¡¹ç›®
npm run build

# å•ç‹¬æ„å»º
npm run client:build   # å‰ç«¯
npm run server:build   # åç«¯
npm run landing:build  # è¥é”€ç½‘ç«™
```

### å®‰å…¨æ£€æŸ¥
```bash
# éªŒè¯å®‰å…¨é…ç½®
npm run security:verify

# æ¸…ç†æ•æ„Ÿæ–‡æ¡£
npm run security:clean-docs

# æµ‹è¯•æ”¯ä»˜é…ç½®
npm run test:payment-config
```

---

## ğŸ—„ï¸ æ•°æ®åº“å‘½ä»¤

### PostgreSQL
```bash
# å¯åŠ¨
brew services start postgresql@14

# åœæ­¢
brew services stop postgresql@14

# é‡å¯
brew services restart postgresql@14

# æŸ¥çœ‹çŠ¶æ€
brew services list | grep postgresql

# è¿æ¥æ•°æ®åº“
psql -d geo_optimization
```

### Redis
```bash
# å¯åŠ¨
brew services start redis

# åœæ­¢
brew services stop redis

# é‡å¯
brew services restart redis

# æŸ¥çœ‹çŠ¶æ€
brew services list | grep redis

# è¿æ¥Redis
redis-cli
```

---

## ğŸ”Œ ç«¯å£ç®¡ç†

### æŸ¥çœ‹ç«¯å£å ç”¨
```bash
# æŸ¥çœ‹æ‰€æœ‰ç«¯å£
lsof -ti:3000,5173,8080

# æŸ¥çœ‹ç‰¹å®šç«¯å£
lsof -ti:3000    # åç«¯
lsof -ti:5173    # å‰ç«¯
lsof -ti:8080    # è¥é”€ç½‘ç«™
```

### é‡Šæ”¾ç«¯å£
```bash
# é‡Šæ”¾ç‰¹å®šç«¯å£
lsof -ti:3000 | xargs kill -9
lsof -ti:5173 | xargs kill -9
lsof -ti:8080 | xargs kill -9

# é‡Šæ”¾æ‰€æœ‰ç«¯å£
lsof -ti:3000,5173,8080 | xargs kill -9
```

---

## ğŸ“ æ—¥å¿—ç®¡ç†

### æŸ¥çœ‹æ—¥å¿—
```bash
# å®æ—¶æŸ¥çœ‹
tail -f logs/backend.log
tail -f logs/frontend.log
tail -f logs/landing.log
tail -f logs/windows.log

# æŸ¥çœ‹æœ€å100è¡Œ
tail -n 100 logs/backend.log

# æŸ¥çœ‹æ‰€æœ‰æ—¥å¿—
tail -f logs/*.log
```

### æ¸…ç†æ—¥å¿—
```bash
# æ¸…ç©ºæ—¥å¿—æ–‡ä»¶
> logs/backend.log
> logs/frontend.log
> logs/landing.log
> logs/windows.log

# åˆ é™¤æ—¥å¿—æ–‡ä»¶
rm -f logs/*.log

# åˆ é™¤PIDæ–‡ä»¶
rm -f logs/*.pid
```

---

## ğŸ” è¿›ç¨‹ç®¡ç†

### æŸ¥çœ‹è¿›ç¨‹
```bash
# æŸ¥çœ‹Nodeè¿›ç¨‹
ps aux | grep node

# æŸ¥çœ‹ç‰¹å®šæœåŠ¡
ps aux | grep "npm run dev"
ps aux | grep vite
ps aux | grep tsx

# æŸ¥çœ‹Electronè¿›ç¨‹
ps aux | grep electron
```

### åœæ­¢è¿›ç¨‹
```bash
# åœæ­¢æ‰€æœ‰npmè¿›ç¨‹
pkill -f "npm run dev"

# åœæ­¢viteè¿›ç¨‹
pkill -f vite

# åœæ­¢tsxè¿›ç¨‹
pkill -f "tsx watch"

# åœæ­¢electronè¿›ç¨‹
pkill -f electron
```

---

## ğŸš€ å¿«æ·æ“ä½œ

### å¼€å‘æµç¨‹
```bash
# 1. é¦–æ¬¡å¯åŠ¨
npm run setup

# 2. æ—¥å¸¸å¼€å‘ï¼ˆå‰å°ï¼‰
åŒå‡»: å¯åŠ¨GEOç³»ç»Ÿ.command

# 3. æ—¥å¸¸ä½¿ç”¨ï¼ˆåå°ï¼‰
åŒå‡»: åå°å¯åŠ¨GEOç³»ç»Ÿ.command

# 4. æŸ¥çœ‹æ—¥å¿—
npm run logs:backend

# 5. åœæ­¢æœåŠ¡
åŒå‡»: åœæ­¢GEOç³»ç»Ÿ.command
```

### æ•…éšœæ’æŸ¥
```bash
# 1. æ£€æŸ¥çŠ¶æ€
åŒå‡»: æ£€æŸ¥æœåŠ¡çŠ¶æ€.command

# 2. æŸ¥çœ‹æ—¥å¿—
npm run logs:all

# 3. é‡å¯æœåŠ¡
åŒå‡»: é‡å¯GEOç³»ç»Ÿ.command

# 4. æ¸…ç†é‡å¯
npm run clean:logs
åŒå‡»: é‡å¯GEOç³»ç»Ÿ.command
```

### æ›´æ–°ä»£ç å
```bash
# 1. åœæ­¢æœåŠ¡
åŒå‡»: åœæ­¢GEOç³»ç»Ÿ.command

# 2. æ›´æ–°ä¾èµ–ï¼ˆå¦‚æœéœ€è¦ï¼‰
npm run install:all

# 3. è¿è¡Œè¿ç§»ï¼ˆå¦‚æœéœ€è¦ï¼‰
npm run db:migrate

# 4. é‡å¯æœåŠ¡
åŒå‡»: åå°å¯åŠ¨GEOç³»ç»Ÿ.command
```

---

## ğŸŒ è®¿é—®åœ°å€

| æœåŠ¡ | åœ°å€ | ç”¨é€” |
|------|------|------|
| ç½‘é¡µå‰ç«¯ | http://localhost:5173 | ä¸»åº”ç”¨ç•Œé¢ |
| åç«¯API | http://localhost:3000 | APIæœåŠ¡ |
| APIæ–‡æ¡£ | http://localhost:3000/api-docs | Swaggeræ–‡æ¡£ |
| å¥åº·æ£€æŸ¥ | http://localhost:3000/api/health | æœåŠ¡çŠ¶æ€ |
| è¥é”€ç½‘ç«™ | http://localhost:8080 | äº§å“é¡µé¢ |

---

## ğŸ’¡ å¸¸ç”¨æŠ€å·§

### 1. å¿«é€Ÿé‡å¯å•ä¸ªæœåŠ¡
```bash
# é‡å¯åç«¯
cd server && npm run dev

# é‡å¯å‰ç«¯
cd client && npm run dev
```

### 2. åå°è¿è¡Œå•ä¸ªæœåŠ¡
```bash
# åå°è¿è¡Œåç«¯
cd server && nohup npm run dev > ../logs/backend.log 2>&1 &

# åå°è¿è¡Œå‰ç«¯
cd client && nohup npm run dev > ../logs/frontend.log 2>&1 &
```

### 3. ç›‘æ§æ—¥å¿—å˜åŒ–
```bash
# ä½¿ç”¨watchå‘½ä»¤
watch -n 1 'tail -n 20 logs/backend.log'

# ä½¿ç”¨lesså®æ—¶æŸ¥çœ‹
less +F logs/backend.log
```

### 4. æœç´¢æ—¥å¿—
```bash
# æœç´¢é”™è¯¯
grep -i error logs/backend.log

# æœç´¢æœ€è¿‘çš„é”™è¯¯
tail -n 1000 logs/backend.log | grep -i error

# ç»Ÿè®¡é”™è¯¯æ•°é‡
grep -c error logs/backend.log
```

---

## ğŸ”§ ç¯å¢ƒå˜é‡

### æŸ¥çœ‹ç¯å¢ƒå˜é‡
```bash
# æŸ¥çœ‹.envæ–‡ä»¶
cat .env
cat server/.env
cat client/.env
```

### ç¼–è¾‘ç¯å¢ƒå˜é‡
```bash
# ä½¿ç”¨vim
vim .env

# ä½¿ç”¨nano
nano .env

# ä½¿ç”¨VS Code
code .env
```

---

**æç¤º**: å°†æ­¤æ–‡ä»¶ä¿å­˜ä¸ºä¹¦ç­¾ï¼Œæ–¹ä¾¿éšæ—¶æŸ¥é˜…ï¼

**æœ€åæ›´æ–°**: 2024-12-30
