# å‘ç°çš„è‡ªåŠ¨å‘å¸ƒè„šæœ¬åˆ†æ

## ğŸ“ ä½ç½®
```
~/Downloads/geo/resources/app-extracted/src/api/script/
```

## ğŸ¯ å‘ç°çš„å¹³å°è„šæœ¬

è¿™ä¸ª GEO åº”ç”¨ä½¿ç”¨ **Playwright**ï¼ˆä¸æ˜¯ Puppeteerï¼‰è¿›è¡Œè‡ªåŠ¨åŒ–ã€‚

### å¹³å°åˆ—è¡¨

| æ–‡ä»¶å | å¹³å° | è¯´æ˜ |
|--------|------|------|
| `tt.js` | å¤´æ¡å· | ä»Šæ—¥å¤´æ¡ |
| `xhs.js` | å°çº¢ä¹¦ | å°çº¢ä¹¦ |
| `bili.js` | å“”å“©å“”å“© | Bç«™ |
| `wxgzh.js` | å¾®ä¿¡å…¬ä¼—å· | å¾®ä¿¡å…¬ä¼—å· |
| `zh.js` | çŸ¥ä¹ | çŸ¥ä¹ |
| `weibo.js` | å¾®åš | å¾®åš |
| `dy.js` | æŠ–éŸ³ | æŠ–éŸ³ |
| `qeh.js` | ä¼é¹…å· | ä¼é¹…å· |
| `sph.js` | æœç‹å· | æœç‹å· |
| `bjh.js` | ç™¾å®¶å· | ç™¾å®¶å· |
| `wy.js` | ç½‘æ˜“å· | ç½‘æ˜“å· |
| `csdn.js` | CSDN | CSDN |
| `kuaishou.js` | å¿«æ‰‹ | å¿«æ‰‹ |
| `sh.js` | ç®€ä¹¦ | ç®€ä¹¦ |
| `js.js` | æœªçŸ¥ | éœ€è¦æŸ¥çœ‹ |

## ğŸ” è„šæœ¬ç‰¹ç‚¹

### 1. ä½¿ç”¨ Electron IPC é€šä¿¡
```javascript
const { ipcRenderer } = require('electron')

ipcRenderer.on('checkLogin', (event, args) => {
    // ç›‘å¬ä¸»è¿›ç¨‹æ¶ˆæ¯
})

ipcRenderer.sendToHost('checkLogin', value)
// å‘é€æ¶ˆæ¯ç»™ä¸»è¿›ç¨‹
```

### 2. ç™»å½•æ£€æµ‹æœºåˆ¶
- ä½¿ç”¨ `setInterval` å®šæ—¶æ£€æŸ¥ç™»å½•çŠ¶æ€
- é€šè¿‡ DOM é€‰æ‹©å™¨åˆ¤æ–­æ˜¯å¦ç™»å½•æˆåŠŸ
- è·å–ç”¨æˆ·ä¿¡æ¯ï¼ˆå¤´åƒã€æ˜µç§°ã€ç²‰ä¸æ•°ç­‰ï¼‰
- ä¿å­˜ Cookie

### 3. å¤´æ¡å·ç¤ºä¾‹ï¼ˆtt.jsï¼‰
```javascript
// æ£€æµ‹ç™»å½•æˆåŠŸçš„é€‰æ‹©å™¨
let name = document.querySelector('.auth-avator-name')

// è·å–å¤´åƒ
let imgElement = document.querySelector('.auth-avator-img');
let srcValue = imgElement.getAttribute('src');

// è·å–ç²‰ä¸æ•°
let follower_count = document.querySelector('.data-board-item-primary').text;

// è¿”å›æ•°æ®
var value = {
    avatar: srcValue,
    account: '',
    name: name.textContent,
    cookie: document.cookie,
    platform: 'tt',
    follower_count: follower_count
}
```

## ğŸ’¡ ä¸ä½ çš„é¡¹ç›®å¯¹æ¯”

### ç›¸åŒç‚¹
- éƒ½æ˜¯ Electron åº”ç”¨
- éƒ½ä½¿ç”¨æµè§ˆå™¨è‡ªåŠ¨åŒ–
- éƒ½éœ€è¦ä¿å­˜ Cookie
- éƒ½æœ‰å¹³å°é€‚é…å™¨

### ä¸åŒç‚¹

| ç‰¹æ€§ | ä½ çš„é¡¹ç›® | è¿™ä¸ª GEO åº”ç”¨ |
|------|---------|--------------|
| è‡ªåŠ¨åŒ–å·¥å…· | Puppeteer | Playwright |
| æ¶æ„ | Node.js åç«¯ + React å‰ç«¯ | Electron + Vue |
| ç™»å½•æ–¹å¼ | åç«¯æ§åˆ¶æµè§ˆå™¨ | å‰ç«¯æ³¨å…¥è„šæœ¬ |
| é€šä¿¡æ–¹å¼ | HTTP API | IPC é€šä¿¡ |

## ğŸš€ å¯ä»¥å€Ÿé‰´çš„åœ°æ–¹

### 1. é€‰æ‹©å™¨ç­–ç•¥
è¿™äº›è„šæœ¬åŒ…å«äº†å„ä¸ªå¹³å°çš„æœ€æ–°é€‰æ‹©å™¨ï¼Œå¯ä»¥å‚è€ƒæ›´æ–°ä½ çš„é€‚é…å™¨ã€‚

### 2. ç™»å½•æ£€æµ‹é€»è¾‘
```javascript
// å®šæ—¶æ£€æŸ¥ + æ¸…é™¤å®šæ—¶å™¨çš„æ¨¡å¼
_interval = setInterval(() => {
    if (ç™»å½•æˆåŠŸ) {
        clearInterval(_interval);
    }
}, 1000)
```

### 3. é”™è¯¯å¤„ç†
```javascript
try {
    // è·å–å…ƒç´ 
} catch(error) {
    console.log("è·å–å¤±è´¥")
}
```

## ğŸ“‹ ä¸‹ä¸€æ­¥

1. **æŸ¥çœ‹æ‰€æœ‰è„šæœ¬**
   ```bash
   ls -la ~/Downloads/geo/resources/app-extracted/src/api/script/
   ```

2. **æå–é€‰æ‹©å™¨**
   - å¯¹æ¯”ä½ çš„é€‚é…å™¨ä¸­çš„é€‰æ‹©å™¨
   - æ›´æ–°å¤±æ•ˆçš„é€‰æ‹©å™¨

3. **å­¦ä¹  Playwright**
   - è€ƒè™‘æ˜¯å¦è¿ç§»åˆ° Playwright
   - æˆ–è€…ç»§ç»­ç”¨ Puppeteer + å€Ÿé‰´é€‰æ‹©å™¨

## ğŸ”— ç›¸å…³æ–‡ä»¶ä½ç½®

```
~/Downloads/geo/resources/app-extracted/
â”œâ”€â”€ electron/
â”‚   â””â”€â”€ main.js              # Electron ä¸»è¿›ç¨‹
â”œâ”€â”€ src/
â”‚   â””â”€â”€ api/
â”‚       â”œâ”€â”€ script/          # å¹³å°è„šæœ¬ï¼ˆé‡è¦ï¼ï¼‰
â”‚       â”œâ”€â”€ login.js         # ç™»å½•é€»è¾‘
â”‚       â”œâ”€â”€ push.js          # å‘å¸ƒé€»è¾‘
â”‚       â””â”€â”€ platform.js      # å¹³å°ç®¡ç†
â””â”€â”€ vue-dist/                # å‰ç«¯æ‰“åŒ…æ–‡ä»¶
```

## ğŸ’¾ ä¿å­˜è¿™äº›è„šæœ¬

å»ºè®®å°†è¿™äº›è„šæœ¬å¤åˆ¶åˆ°ä½ çš„é¡¹ç›®ä¸­ä½œä¸ºå‚è€ƒï¼š
```bash
cp -r ~/Downloads/geo/resources/app-extracted/src/api/script/ ./reference-scripts/
```
