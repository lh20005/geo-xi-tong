# GEOä¼˜åŒ–ç³»ç»Ÿ - æ•°æ®åº“æ–‡æ¡£

---
ç‰ˆæœ¬: 2.0  
æœ€åæ›´æ–°: 2025-01-15  
ç»´æŠ¤è€…: GEO Team
---

## ğŸ“‹ æ–‡æ¡£æ¦‚è¿°

æœ¬æ–‡æ¡£è¯¦ç»†è®°å½•äº† GEO ä¼˜åŒ–ç³»ç»Ÿçš„æ•°æ®åº“ç»“æ„ï¼ŒåŒ…æ‹¬æ‰€æœ‰è¡¨çš„å­—æ®µè¯´æ˜ã€å…³ç³»ã€ç´¢å¼•å’Œå¸¸ç”¨æŸ¥è¯¢ç¤ºä¾‹ã€‚

### æ•°æ®åº“ä¿¡æ¯

- **æ•°æ®åº“ç±»å‹**: PostgreSQL 12+
- **å­—ç¬¦ç¼–ç **: UTF-8
- **æ—¶åŒº**: UTC

### æ•°æ®åº“è¿æ¥

```bash
# å¼€å‘ç¯å¢ƒ
DATABASE_URL=postgresql://user:password@localhost:5432/geo_system

# ç”Ÿäº§ç¯å¢ƒ
DATABASE_URL=postgresql://user:password@host:5432/geo_system
```

---

## ğŸ“‘ ç›®å½•

1. [æ•°æ®åº“æ¦‚è§ˆ](#æ•°æ®åº“æ¦‚è§ˆ)
2. [æ ¸å¿ƒä¸šåŠ¡è¡¨](#æ ¸å¿ƒä¸šåŠ¡è¡¨)
3. [ä»»åŠ¡ç®¡ç†è¡¨](#ä»»åŠ¡ç®¡ç†è¡¨)
4. [èµ„æºç®¡ç†è¡¨](#èµ„æºç®¡ç†è¡¨)
5. [ç»Ÿè®¡è¡¨](#ç»Ÿè®¡è¡¨)
6. [è¡¨å…³ç³»å›¾](#è¡¨å…³ç³»å›¾)
7. [å¸¸ç”¨æŸ¥è¯¢](#å¸¸ç”¨æŸ¥è¯¢)
8. [æ•°æ®åº“è¿ç§»](#æ•°æ®åº“è¿ç§»)

---

## æ•°æ®åº“æ¦‚è§ˆ

### è¡¨åˆ—è¡¨

| è¡¨å | ç”¨é€” | è®°å½•æ•°ï¼ˆä¼°è®¡ï¼‰ |
|------|------|----------------|
| api_configs | AI é…ç½®ç®¡ç† | < 10 |
| distillations | å…³é”®è¯è’¸é¦è®°å½• | 1000+ |
| topics | è’¸é¦ç”Ÿæˆçš„è¯é¢˜ | 10000+ |
| articles | ç”Ÿæˆçš„æ–‡ç«  | 5000+ |
| generation_tasks | æ–‡ç« ç”Ÿæˆä»»åŠ¡ | 500+ |
| article_settings | æ–‡ç« è®¾ç½®æ¨¡æ¿ | < 50 |
| conversion_targets | è½¬åŒ–ç›®æ ‡ | < 100 |
| albums | ç›¸å†Œ | < 100 |
| images | å›¾ç‰‡ | 1000+ |
| knowledge_bases | çŸ¥è¯†åº“ | < 50 |
| knowledge_documents | çŸ¥è¯†æ–‡æ¡£ | 500+ |
| distillation_usage | è’¸é¦ä½¿ç”¨è®°å½• | 5000+ |

### æ•°æ®å…³ç³»æ¦‚è§ˆ

```
api_configs (é…ç½®)

distillations (è’¸é¦) â”€â”€â”¬â”€â†’ topics (è¯é¢˜)
                      â”œâ”€â†’ articles (æ–‡ç« )
                      â””â”€â†’ distillation_usage (ä½¿ç”¨è®°å½•)

generation_tasks (ä»»åŠ¡) â”€â”€â†’ articles (æ–‡ç« )

article_settings (è®¾ç½®) â”€â”€â†’ generation_tasks (ä»»åŠ¡)

conversion_targets (ç›®æ ‡) â”€â”€â†’ generation_tasks (ä»»åŠ¡)

albums (ç›¸å†Œ) â”€â”€â”¬â”€â†’ images (å›¾ç‰‡)
               â””â”€â†’ generation_tasks (ä»»åŠ¡)

knowledge_bases (çŸ¥è¯†åº“) â”€â”€â”¬â”€â†’ knowledge_documents (æ–‡æ¡£)
                          â””â”€â†’ generation_tasks (ä»»åŠ¡)
```

---

## æ ¸å¿ƒä¸šåŠ¡è¡¨

### 1. api_configs (API é…ç½®è¡¨)

**ç”¨é€”**: å­˜å‚¨ AI æœåŠ¡çš„é…ç½®ä¿¡æ¯

**è¡¨ç»“æ„**:

| å­—æ®µå | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|--------|------|------|------|
| id | SERIAL | PRIMARY KEY | ä¸»é”® |
| provider | VARCHAR(20) | NOT NULL | AI æä¾›å•†: deepseek, gemini, ollama |
| api_key | TEXT | NULL | API å¯†é’¥ï¼ˆäº‘ç«¯æœåŠ¡ï¼‰ |
| ollama_base_url | TEXT | NULL | Ollama æœåŠ¡åœ°å€ |
| ollama_model | VARCHAR(100) | NULL | Ollama æ¨¡å‹åç§° |
| is_active | BOOLEAN | DEFAULT false | æ˜¯å¦æ¿€æ´» |
| created_at | TIMESTAMP | DEFAULT NOW() | åˆ›å»ºæ—¶é—´ |
| updated_at | TIMESTAMP | DEFAULT NOW() | æ›´æ–°æ—¶é—´ |

**ç´¢å¼•**:
- PRIMARY KEY: `id`
- INDEX: `is_active` (ç”¨äºå¿«é€ŸæŸ¥æ‰¾æ¿€æ´»çš„é…ç½®)

**çº¦æŸ**:
- åŒä¸€æ—¶é—´åªèƒ½æœ‰ä¸€ä¸ªé…ç½®å¤„äºæ¿€æ´»çŠ¶æ€
- Ollama é…ç½®æ—¶ api_key ä¸º NULL
- äº‘ç«¯é…ç½®æ—¶ ollama_base_url å’Œ ollama_model ä¸º NULL

**ç¤ºä¾‹æ•°æ®**:
```sql
-- DeepSeek é…ç½®
INSERT INTO api_configs (provider, api_key, is_active) 
VALUES ('deepseek', 'sk-xxx', true);

-- Ollama é…ç½®
INSERT INTO api_configs (provider, ollama_base_url, ollama_model, is_active) 
VALUES ('ollama', 'http://localhost:11434', 'deepseek-r1:latest', true);
```

---

### 2. distillations (è’¸é¦è®°å½•è¡¨)

**ç”¨é€”**: å­˜å‚¨å…³é”®è¯è’¸é¦çš„è®°å½•

**è¡¨ç»“æ„**:

| å­—æ®µå | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|--------|------|------|------|
| id | SERIAL | PRIMARY KEY | ä¸»é”® |
| keyword | VARCHAR(255) | NOT NULL | å…³é”®è¯ |
| provider | VARCHAR(20) | NOT NULL | ä½¿ç”¨çš„ AI æ¨¡å‹ |
| usage_count | INTEGER | DEFAULT 0 | ä½¿ç”¨æ¬¡æ•° |
| last_used_at | TIMESTAMP | NULL | æœ€åä½¿ç”¨æ—¶é—´ |
| created_at | TIMESTAMP | DEFAULT NOW() | åˆ›å»ºæ—¶é—´ |

**ç´¢å¼•**:
- PRIMARY KEY: `id`
- INDEX: `keyword` (ç”¨äºå…³é”®è¯æœç´¢)
- INDEX: `created_at` (ç”¨äºæ—¶é—´æ’åº)
- INDEX: `usage_count` (ç”¨äºæ¨èæ’åº)

**å…³ç³»**:
- ä¸€å¯¹å¤š: `distillations` â†’ `topics`
- ä¸€å¯¹å¤š: `distillations` â†’ `articles`
- ä¸€å¯¹å¤š: `distillations` â†’ `distillation_usage`

**ç¤ºä¾‹æŸ¥è¯¢**:
```sql
-- æŸ¥è¯¢æœ€å¸¸ç”¨çš„è’¸é¦ç»“æœ
SELECT id, keyword, usage_count, last_used_at
FROM distillations
ORDER BY usage_count DESC, last_used_at DESC
LIMIT 10;

-- æŸ¥è¯¢æŸä¸ªå…³é”®è¯çš„è’¸é¦è®°å½•
SELECT d.*, COUNT(t.id) as topic_count
FROM distillations d
LEFT JOIN topics t ON d.id = t.distillation_id
WHERE d.keyword = 'è‹±å›½ç•™å­¦'
GROUP BY d.id
ORDER BY d.created_at DESC;
```

---

### 3. topics (è¯é¢˜è¡¨)

**ç”¨é€”**: å­˜å‚¨è’¸é¦ç”Ÿæˆçš„è¯é¢˜

**è¡¨ç»“æ„**:

| å­—æ®µå | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|--------|------|------|------|
| id | SERIAL | PRIMARY KEY | ä¸»é”® |
| distillation_id | INTEGER | FOREIGN KEY | è’¸é¦è®°å½• ID |
| question | TEXT | NOT NULL | è¯é¢˜é—®é¢˜ |
| created_at | TIMESTAMP | DEFAULT NOW() | åˆ›å»ºæ—¶é—´ |

**ç´¢å¼•**:
- PRIMARY KEY: `id`
- FOREIGN KEY: `distillation_id` REFERENCES `distillations(id)` ON DELETE CASCADE
- INDEX: `distillation_id` (ç”¨äºå¿«é€ŸæŸ¥è¯¢æŸä¸ªè’¸é¦çš„æ‰€æœ‰è¯é¢˜)

**å…³ç³»**:
- å¤šå¯¹ä¸€: `topics` â†’ `distillations`

**çº§è”åˆ é™¤**:
- åˆ é™¤è’¸é¦è®°å½•æ—¶ï¼Œä¼šè‡ªåŠ¨åˆ é™¤æ‰€æœ‰å…³è”çš„è¯é¢˜

**ç¤ºä¾‹æŸ¥è¯¢**:
```sql
-- è·å–æŸä¸ªè’¸é¦çš„æ‰€æœ‰è¯é¢˜
SELECT id, question, created_at
FROM topics
WHERE distillation_id = 1
ORDER BY created_at ASC;

-- æ‰¹é‡åˆ é™¤è¯é¢˜
DELETE FROM topics
WHERE id IN (1, 2, 3);
```

---

### 4. articles (æ–‡ç« è¡¨)

**ç”¨é€”**: å­˜å‚¨ç”Ÿæˆçš„æ–‡ç« 

**è¡¨ç»“æ„**:

| å­—æ®µå | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|--------|------|------|------|
| id | SERIAL | PRIMARY KEY | ä¸»é”® |
| title | VARCHAR(500) | NULL | æ–‡ç« æ ‡é¢˜ |
| keyword | VARCHAR(255) | NOT NULL | å…³é”®è¯ |
| distillation_id | INTEGER | FOREIGN KEY | è’¸é¦è®°å½• ID |
| task_id | INTEGER | FOREIGN KEY | ä»»åŠ¡ IDï¼ˆæ‰¹é‡ç”Ÿæˆæ—¶ï¼‰ |
| requirements | TEXT | NULL | æ–‡ç« è¦æ±‚ |
| content | TEXT | NOT NULL | æ–‡ç« å†…å®¹ |
| image_url | TEXT | NULL | é…å›¾ URL |
| provider | VARCHAR(20) | NOT NULL | ä½¿ç”¨çš„ AI æ¨¡å‹ |
| created_at | TIMESTAMP | DEFAULT NOW() | åˆ›å»ºæ—¶é—´ |
| updated_at | TIMESTAMP | DEFAULT NOW() | æ›´æ–°æ—¶é—´ |

**ç´¢å¼•**:
- PRIMARY KEY: `id`
- FOREIGN KEY: `distillation_id` REFERENCES `distillations(id)` ON DELETE SET NULL
- FOREIGN KEY: `task_id` REFERENCES `generation_tasks(id)` ON DELETE CASCADE
- INDEX: `keyword` (ç”¨äºå…³é”®è¯æœç´¢)
- INDEX: `created_at` (ç”¨äºæ—¶é—´æ’åº)
- INDEX: `task_id` (ç”¨äºæŒ‰ä»»åŠ¡æŸ¥è¯¢)

**å…³ç³»**:
- å¤šå¯¹ä¸€: `articles` â†’ `distillations`
- å¤šå¯¹ä¸€: `articles` â†’ `generation_tasks`
- ä¸€å¯¹å¤š: `articles` â†’ `distillation_usage`

**ç¤ºä¾‹æŸ¥è¯¢**:
```sql
-- è·å–æœ€è¿‘ç”Ÿæˆçš„æ–‡ç« 
SELECT id, title, keyword, provider, created_at
FROM articles
ORDER BY created_at DESC
LIMIT 20;

-- è·å–æŸä¸ªä»»åŠ¡ç”Ÿæˆçš„æ‰€æœ‰æ–‡ç« 
SELECT id, title, keyword, image_url, created_at
FROM articles
WHERE task_id = 1
ORDER BY created_at DESC;

-- æ›´æ–°æ–‡ç« 
UPDATE articles
SET title = 'æ–°æ ‡é¢˜', content = 'æ–°å†…å®¹', updated_at = NOW()
WHERE id = 1;
```

---

## ä»»åŠ¡ç®¡ç†è¡¨

### 5. generation_tasks (ç”Ÿæˆä»»åŠ¡è¡¨)

**ç”¨é€”**: å­˜å‚¨æ–‡ç« æ‰¹é‡ç”Ÿæˆä»»åŠ¡

**è¡¨ç»“æ„**:

| å­—æ®µå | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|--------|------|------|------|
| id | SERIAL | PRIMARY KEY | ä¸»é”® |
| distillation_id | INTEGER | FOREIGN KEY | è’¸é¦å†å² ID |
| album_id | INTEGER | FOREIGN KEY | å›¾åº“ ID |
| knowledge_base_id | INTEGER | FOREIGN KEY | çŸ¥è¯†åº“ ID |
| article_setting_id | INTEGER | FOREIGN KEY | æ–‡ç« è®¾ç½® ID |
| conversion_target_id | INTEGER | FOREIGN KEY | è½¬åŒ–ç›®æ ‡ ID |
| article_count | INTEGER | NOT NULL | è¦ç”Ÿæˆçš„æ–‡ç« æ•°é‡ |
| generated_count | INTEGER | DEFAULT 0 | å·²ç”Ÿæˆæ•°é‡ |
| status | VARCHAR(20) | DEFAULT 'pending' | ä»»åŠ¡çŠ¶æ€ |
| selected_distillation_ids | TEXT | NULL | é€‰ä¸­çš„è’¸é¦ç»“æœ IDï¼ˆJSONï¼‰ |
| error_message | TEXT | NULL | é”™è¯¯ä¿¡æ¯ |
| created_at | TIMESTAMP | DEFAULT NOW() | åˆ›å»ºæ—¶é—´ |
| started_at | TIMESTAMP | NULL | å¼€å§‹æ—¶é—´ |
| completed_at | TIMESTAMP | NULL | å®Œæˆæ—¶é—´ |

**ç´¢å¼•**:
- PRIMARY KEY: `id`
- FOREIGN KEY: `distillation_id` REFERENCES `distillations(id)` ON DELETE CASCADE
- FOREIGN KEY: `album_id` REFERENCES `albums(id)` ON DELETE CASCADE
- FOREIGN KEY: `knowledge_base_id` REFERENCES `knowledge_bases(id)` ON DELETE CASCADE
- FOREIGN KEY: `article_setting_id` REFERENCES `article_settings(id)` ON DELETE CASCADE
- FOREIGN KEY: `conversion_target_id` REFERENCES `conversion_targets(id)` ON DELETE SET NULL
- INDEX: `status` (ç”¨äºæŸ¥è¯¢ä¸åŒçŠ¶æ€çš„ä»»åŠ¡)
- INDEX: `created_at` (ç”¨äºæ—¶é—´æ’åº)

**ä»»åŠ¡çŠ¶æ€**:
- `pending`: ç­‰å¾…æ‰§è¡Œ
- `running`: æ­£åœ¨æ‰§è¡Œ
- `completed`: å·²å®Œæˆ
- `failed`: æ‰§è¡Œå¤±è´¥

**å…³ç³»**:
- å¤šå¯¹ä¸€: `generation_tasks` â†’ `distillations`
- å¤šå¯¹ä¸€: `generation_tasks` â†’ `albums`
- å¤šå¯¹ä¸€: `generation_tasks` â†’ `knowledge_bases`
- å¤šå¯¹ä¸€: `generation_tasks` â†’ `article_settings`
- å¤šå¯¹ä¸€: `generation_tasks` â†’ `conversion_targets`
- ä¸€å¯¹å¤š: `generation_tasks` â†’ `articles`

**ç¤ºä¾‹æŸ¥è¯¢**:
```sql
-- è·å–æ­£åœ¨è¿è¡Œçš„ä»»åŠ¡
SELECT id, article_count, generated_count, started_at
FROM generation_tasks
WHERE status = 'running'
ORDER BY started_at ASC;

-- è·å–ä»»åŠ¡è¯¦æƒ…åŠç”Ÿæˆçš„æ–‡ç« 
SELECT 
  t.*,
  COUNT(a.id) as actual_article_count
FROM generation_tasks t
LEFT JOIN articles a ON t.id = a.task_id
WHERE t.id = 1
GROUP BY t.id;
```

---

### 6. article_settings (æ–‡ç« è®¾ç½®è¡¨)

**ç”¨é€”**: å­˜å‚¨æ–‡ç« ç”Ÿæˆçš„æ¨¡æ¿è®¾ç½®

**è¡¨ç»“æ„**:

| å­—æ®µå | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|--------|------|------|------|
| id | SERIAL | PRIMARY KEY | ä¸»é”® |
| name | VARCHAR(100) | NOT NULL | è®¾ç½®åç§° |
| word_count | INTEGER | NULL | å­—æ•°è¦æ±‚ |
| style | TEXT | NULL | é£æ ¼è¦æ±‚ |
| requirements | TEXT | NULL | å…¶ä»–è¦æ±‚ |
| created_at | TIMESTAMP | DEFAULT NOW() | åˆ›å»ºæ—¶é—´ |
| updated_at | TIMESTAMP | DEFAULT NOW() | æ›´æ–°æ—¶é—´ |

**ç´¢å¼•**:
- PRIMARY KEY: `id`
- INDEX: `name` (ç”¨äºåç§°æœç´¢)

**å…³ç³»**:
- ä¸€å¯¹å¤š: `article_settings` â†’ `generation_tasks`

**ç¤ºä¾‹æ•°æ®**:
```sql
INSERT INTO article_settings (name, word_count, style, requirements)
VALUES 
  ('ä¸“ä¸šæƒå¨å‹', 2000, 'ä¸“ä¸šã€æƒå¨', 'åŒ…å«å®é™…æ¡ˆä¾‹å’Œæ•°æ®æ”¯æŒ'),
  ('é€šä¿—æ˜“æ‡‚å‹', 1500, 'é€šä¿—ã€æ˜“æ‡‚', 'ä½¿ç”¨ç®€å•è¯­è¨€ï¼Œé€‚åˆå¤§ä¼—é˜…è¯»'),
  ('æ·±åº¦åˆ†æå‹', 3000, 'æ·±å…¥ã€å…¨é¢', 'æ·±åº¦åˆ†æï¼ŒåŒ…å«å¤šä¸ªç»´åº¦');
```

---

### 7. conversion_targets (è½¬åŒ–ç›®æ ‡è¡¨)

**ç”¨é€”**: å­˜å‚¨æ–‡ç« ä¸­çš„è½¬åŒ–ç›®æ ‡ä¿¡æ¯

**è¡¨ç»“æ„**:

| å­—æ®µå | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|--------|------|------|------|
| id | SERIAL | PRIMARY KEY | ä¸»é”® |
| name | VARCHAR(100) | NOT NULL | ç›®æ ‡åç§° |
| type | VARCHAR(20) | NOT NULL | ç›®æ ‡ç±»å‹ |
| content | TEXT | NOT NULL | ç›®æ ‡å†…å®¹ |
| description | TEXT | NULL | æè¿° |
| created_at | TIMESTAMP | DEFAULT NOW() | åˆ›å»ºæ—¶é—´ |
| updated_at | TIMESTAMP | DEFAULT NOW() | æ›´æ–°æ—¶é—´ |

**ç›®æ ‡ç±»å‹**:
- `phone`: ç”µè¯å·ç 
- `email`: ç”µå­é‚®ä»¶
- `url`: ç½‘å€é“¾æ¥
- `wechat`: å¾®ä¿¡å·
- `other`: å…¶ä»–

**ç´¢å¼•**:
- PRIMARY KEY: `id`
- INDEX: `type` (ç”¨äºæŒ‰ç±»å‹æŸ¥è¯¢)

**å…³ç³»**:
- ä¸€å¯¹å¤š: `conversion_targets` â†’ `generation_tasks`

**ç¤ºä¾‹æ•°æ®**:
```sql
INSERT INTO conversion_targets (name, type, content, description)
VALUES 
  ('å’¨è¯¢çƒ­çº¿', 'phone', '400-123-4567', '24å°æ—¶å’¨è¯¢çƒ­çº¿'),
  ('å®˜æ–¹ç½‘ç«™', 'url', 'https://example.com', 'è®¿é—®å®˜ç½‘äº†è§£æ›´å¤š'),
  ('å®¢æœå¾®ä¿¡', 'wechat', 'service_wechat', 'æ·»åŠ å®¢æœå¾®ä¿¡å’¨è¯¢');
```

---

## èµ„æºç®¡ç†è¡¨

### 8. albums (ç›¸å†Œè¡¨)

**ç”¨é€”**: å­˜å‚¨å›¾ç‰‡ç›¸å†Œ

**è¡¨ç»“æ„**:

| å­—æ®µå | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|--------|------|------|------|
| id | SERIAL | PRIMARY KEY | ä¸»é”® |
| name | VARCHAR(100) | NOT NULL | ç›¸å†Œåç§° |
| created_at | TIMESTAMP | DEFAULT NOW() | åˆ›å»ºæ—¶é—´ |
| updated_at | TIMESTAMP | DEFAULT NOW() | æ›´æ–°æ—¶é—´ |

**ç´¢å¼•**:
- PRIMARY KEY: `id`
- INDEX: `name` (ç”¨äºåç§°æœç´¢)

**å…³ç³»**:
- ä¸€å¯¹å¤š: `albums` â†’ `images`
- ä¸€å¯¹å¤š: `albums` â†’ `generation_tasks`

**ç¤ºä¾‹æŸ¥è¯¢**:
```sql
-- è·å–ç›¸å†ŒåŠå›¾ç‰‡æ•°é‡
SELECT 
  a.id,
  a.name,
  a.created_at,
  COUNT(i.id) as image_count
FROM albums a
LEFT JOIN images i ON a.id = i.album_id
GROUP BY a.id
ORDER BY a.created_at DESC;
```

---

### 9. images (å›¾ç‰‡è¡¨)

**ç”¨é€”**: å­˜å‚¨å›¾ç‰‡æ–‡ä»¶ä¿¡æ¯

**è¡¨ç»“æ„**:

| å­—æ®µå | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|--------|------|------|------|
| id | SERIAL | PRIMARY KEY | ä¸»é”® |
| album_id | INTEGER | FOREIGN KEY | ç›¸å†Œ ID |
| filename | VARCHAR(255) | NOT NULL | åŸå§‹æ–‡ä»¶å |
| filepath | VARCHAR(255) | NOT NULL | å­˜å‚¨è·¯å¾„ |
| mime_type | VARCHAR(50) | NOT NULL | MIME ç±»å‹ |
| size | INTEGER | NOT NULL | æ–‡ä»¶å¤§å°ï¼ˆå­—èŠ‚ï¼‰ |
| created_at | TIMESTAMP | DEFAULT NOW() | åˆ›å»ºæ—¶é—´ |

**ç´¢å¼•**:
- PRIMARY KEY: `id`
- FOREIGN KEY: `album_id` REFERENCES `albums(id)` ON DELETE CASCADE
- INDEX: `album_id` (ç”¨äºæŸ¥è¯¢ç›¸å†Œçš„æ‰€æœ‰å›¾ç‰‡)

**å…³ç³»**:
- å¤šå¯¹ä¸€: `images` â†’ `albums`

**çº§è”åˆ é™¤**:
- åˆ é™¤ç›¸å†Œæ—¶ï¼Œä¼šè‡ªåŠ¨åˆ é™¤æ‰€æœ‰å…³è”çš„å›¾ç‰‡è®°å½•

**æ”¯æŒæ ¼å¼**:
- JPEG: `image/jpeg`
- PNG: `image/png`
- GIF: `image/gif`
- WebP: `image/webp`

**ç¤ºä¾‹æŸ¥è¯¢**:
```sql
-- è·å–ç›¸å†Œçš„æ‰€æœ‰å›¾ç‰‡
SELECT id, filename, filepath, mime_type, size, created_at
FROM images
WHERE album_id = 1
ORDER BY created_at ASC;

-- ç»Ÿè®¡å›¾ç‰‡æ€»å¤§å°
SELECT 
  album_id,
  COUNT(*) as image_count,
  SUM(size) as total_size,
  pg_size_pretty(SUM(size)::bigint) as total_size_pretty
FROM images
GROUP BY album_id;
```

---

### 10. knowledge_bases (çŸ¥è¯†åº“è¡¨)

**ç”¨é€”**: å­˜å‚¨çŸ¥è¯†åº“

**è¡¨ç»“æ„**:

| å­—æ®µå | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|--------|------|------|------|
| id | SERIAL | PRIMARY KEY | ä¸»é”® |
| name | VARCHAR(255) | NOT NULL | çŸ¥è¯†åº“åç§° |
| description | TEXT | NULL | æè¿° |
| created_at | TIMESTAMP | DEFAULT NOW() | åˆ›å»ºæ—¶é—´ |
| updated_at | TIMESTAMP | DEFAULT NOW() | æ›´æ–°æ—¶é—´ |

**ç´¢å¼•**:
- PRIMARY KEY: `id`
- INDEX: `name` (ç”¨äºåç§°æœç´¢)

**å…³ç³»**:
- ä¸€å¯¹å¤š: `knowledge_bases` â†’ `knowledge_documents`
- ä¸€å¯¹å¤š: `knowledge_bases` â†’ `generation_tasks`

**ç¤ºä¾‹æŸ¥è¯¢**:
```sql
-- è·å–çŸ¥è¯†åº“åŠæ–‡æ¡£æ•°é‡
SELECT 
  kb.id,
  kb.name,
  kb.description,
  kb.created_at,
  COUNT(kd.id) as document_count
FROM knowledge_bases kb
LEFT JOIN knowledge_documents kd ON kb.id = kd.knowledge_base_id
GROUP BY kb.id
ORDER BY kb.created_at DESC;
```

---

### 11. knowledge_documents (çŸ¥è¯†æ–‡æ¡£è¡¨)

**ç”¨é€”**: å­˜å‚¨çŸ¥è¯†åº“ä¸­çš„æ–‡æ¡£

**è¡¨ç»“æ„**:

| å­—æ®µå | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|--------|------|------|------|
| id | SERIAL | PRIMARY KEY | ä¸»é”® |
| knowledge_base_id | INTEGER | FOREIGN KEY | çŸ¥è¯†åº“ ID |
| filename | VARCHAR(255) | NOT NULL | æ–‡ä»¶å |
| file_type | VARCHAR(10) | NOT NULL | æ–‡ä»¶ç±»å‹ |
| file_size | INTEGER | NOT NULL | æ–‡ä»¶å¤§å°ï¼ˆå­—èŠ‚ï¼‰ |
| content | TEXT | NOT NULL | æå–çš„æ–‡æœ¬å†…å®¹ |
| created_at | TIMESTAMP | DEFAULT NOW() | åˆ›å»ºæ—¶é—´ |

**ç´¢å¼•**:
- PRIMARY KEY: `id`
- FOREIGN KEY: `knowledge_base_id` REFERENCES `knowledge_bases(id)` ON DELETE CASCADE
- INDEX: `knowledge_base_id` (ç”¨äºæŸ¥è¯¢çŸ¥è¯†åº“çš„æ‰€æœ‰æ–‡æ¡£)
- INDEX: `filename` (ç”¨äºæ–‡ä»¶åæœç´¢)

**å…³ç³»**:
- å¤šå¯¹ä¸€: `knowledge_documents` â†’ `knowledge_bases`

**çº§è”åˆ é™¤**:
- åˆ é™¤çŸ¥è¯†åº“æ—¶ï¼Œä¼šè‡ªåŠ¨åˆ é™¤æ‰€æœ‰å…³è”çš„æ–‡æ¡£

**æ”¯æŒæ ¼å¼**:
- `.txt`: çº¯æ–‡æœ¬
- `.md`: Markdown
- `.pdf`: PDF æ–‡æ¡£
- `.doc`: Word æ–‡æ¡£
- `.docx`: Word æ–‡æ¡£

**ç¤ºä¾‹æŸ¥è¯¢**:
```sql
-- è·å–çŸ¥è¯†åº“çš„æ‰€æœ‰æ–‡æ¡£
SELECT id, filename, file_type, file_size, created_at
FROM knowledge_documents
WHERE knowledge_base_id = 1
ORDER BY created_at DESC;

-- æœç´¢æ–‡æ¡£å†…å®¹
SELECT id, filename, LEFT(content, 200) as preview
FROM knowledge_documents
WHERE knowledge_base_id = 1
  AND (filename ILIKE '%äº§å“%' OR content ILIKE '%äº§å“%')
LIMIT 50;
```

---

## ç»Ÿè®¡è¡¨

### 12. distillation_usage (è’¸é¦ä½¿ç”¨è®°å½•è¡¨)

**ç”¨é€”**: è®°å½•è’¸é¦ç»“æœçš„ä½¿ç”¨å†å²

**è¡¨ç»“æ„**:

| å­—æ®µå | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|--------|------|------|------|
| id | SERIAL | PRIMARY KEY | ä¸»é”® |
| distillation_id | INTEGER | FOREIGN KEY | è’¸é¦è®°å½• ID |
| article_id | INTEGER | FOREIGN KEY | æ–‡ç«  ID |
| used_at | TIMESTAMP | DEFAULT NOW() | ä½¿ç”¨æ—¶é—´ |

**ç´¢å¼•**:
- PRIMARY KEY: `id`
- FOREIGN KEY: `distillation_id` REFERENCES `distillations(id)` ON DELETE CASCADE
- FOREIGN KEY: `article_id` REFERENCES `articles(id)` ON DELETE CASCADE
- INDEX: `distillation_id` (ç”¨äºæŸ¥è¯¢æŸä¸ªè’¸é¦çš„ä½¿ç”¨å†å²)
- INDEX: `used_at` (ç”¨äºæ—¶é—´æ’åº)

**å…³ç³»**:
- å¤šå¯¹ä¸€: `distillation_usage` â†’ `distillations`
- å¤šå¯¹ä¸€: `distillation_usage` â†’ `articles`

**çº§è”åˆ é™¤**:
- åˆ é™¤è’¸é¦è®°å½•æ—¶ï¼Œä¼šè‡ªåŠ¨åˆ é™¤æ‰€æœ‰ä½¿ç”¨è®°å½•
- åˆ é™¤æ–‡ç« æ—¶ï¼Œä¼šè‡ªåŠ¨åˆ é™¤å¯¹åº”çš„ä½¿ç”¨è®°å½•

**ç¤ºä¾‹æŸ¥è¯¢**:
```sql
-- è·å–è’¸é¦ç»“æœçš„ä½¿ç”¨å†å²
SELECT 
  du.id,
  du.article_id,
  a.title as article_title,
  du.used_at
FROM distillation_usage du
LEFT JOIN articles a ON du.article_id = a.id
WHERE du.distillation_id = 1
ORDER BY du.used_at DESC;

-- ç»Ÿè®¡æ¯ä¸ªè’¸é¦ç»“æœçš„ä½¿ç”¨æ¬¡æ•°
SELECT 
  d.id,
  d.keyword,
  COUNT(du.id) as usage_count,
  MAX(du.used_at) as last_used_at
FROM distillations d
LEFT JOIN distillation_usage du ON d.id = du.distillation_id
GROUP BY d.id
ORDER BY usage_count DESC;
```

---

## è¡¨å…³ç³»å›¾

### ER å›¾ï¼ˆæ–‡æœ¬è¡¨ç¤ºï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  api_configs    â”‚
â”‚  (AI é…ç½®)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  distillations  â”‚â”€â”€â”€â”€1:Nâ”€â”€â”‚     topics      â”‚
â”‚  (è’¸é¦è®°å½•)     â”‚         â”‚     (è¯é¢˜)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”œâ”€â”€1:Nâ”€â”€â”
         â”‚       â”‚
         â”‚       â–¼
         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  â”‚    articles     â”‚
         â”‚  â”‚    (æ–‡ç« )       â”‚
         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚           â”‚
         â”‚           â”‚
         â”œâ”€â”€1:Nâ”€â”€â”€â”€â”€â”€â”¤
         â”‚           â”‚
         â–¼           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚distillation_    â”‚ â”‚ generation_     â”‚
â”‚usage (ä½¿ç”¨è®°å½•) â”‚ â”‚ tasks (ä»»åŠ¡)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                   â”‚                   â”‚
         â–¼                   â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚article_settings â”‚ â”‚conversion_      â”‚ â”‚    albums       â”‚
â”‚(æ–‡ç« è®¾ç½®)       â”‚ â”‚targets (ç›®æ ‡)   â”‚ â”‚    (ç›¸å†Œ)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                  â”‚
                                                  â”‚1:N
                                                  â–¼
                                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                         â”‚     images      â”‚
                                         â”‚     (å›¾ç‰‡)      â”‚
                                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚knowledge_bases  â”‚â”€â”€â”€â”€1:Nâ”€â”€â”‚knowledge_       â”‚
â”‚(çŸ¥è¯†åº“)         â”‚         â”‚documents (æ–‡æ¡£) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â””â”€â”€1:Nâ”€â”€â†’ generation_tasks
```

---

## å¸¸ç”¨æŸ¥è¯¢

### 1. ç»Ÿè®¡æŸ¥è¯¢

```sql
-- ç³»ç»Ÿæ€»ä½“ç»Ÿè®¡
SELECT 
  (SELECT COUNT(*) FROM distillations) as total_distillations,
  (SELECT COUNT(*) FROM topics) as total_topics,
  (SELECT COUNT(*) FROM articles) as total_articles,
  (SELECT COUNT(*) FROM generation_tasks) as total_tasks,
  (SELECT COUNT(*) FROM albums) as total_albums,
  (SELECT COUNT(*) FROM images) as total_images,
  (SELECT COUNT(*) FROM knowledge_bases) as total_knowledge_bases,
  (SELECT COUNT(*) FROM knowledge_documents) as total_documents;

-- æ¯æ—¥ç”Ÿæˆæ–‡ç« ç»Ÿè®¡
SELECT 
  DATE(created_at) as date,
  COUNT(*) as article_count
FROM articles
WHERE created_at >= NOW() - INTERVAL '30 days'
GROUP BY DATE(created_at)
ORDER BY date DESC;

-- AI æ¨¡å‹ä½¿ç”¨ç»Ÿè®¡
SELECT 
  provider,
  COUNT(*) as usage_count
FROM distillations
GROUP BY provider
ORDER BY usage_count DESC;
```

### 2. æ€§èƒ½æŸ¥è¯¢

```sql
-- æŸ¥æ‰¾æœ€æ´»è·ƒçš„å…³é”®è¯
SELECT 
  keyword,
  COUNT(*) as distillation_count,
  SUM(usage_count) as total_usage
FROM distillations
GROUP BY keyword
ORDER BY total_usage DESC
LIMIT 20;

-- æŸ¥æ‰¾ç”Ÿæˆæ–‡ç« æœ€å¤šçš„ä»»åŠ¡
SELECT 
  t.id,
  t.article_count,
  t.generated_count,
  t.status,
  COUNT(a.id) as actual_count
FROM generation_tasks t
LEFT JOIN articles a ON t.id = a.task_id
GROUP BY t.id
ORDER BY actual_count DESC
LIMIT 10;
```

### 3. æ•°æ®æ¸…ç†æŸ¥è¯¢

```sql
-- æŸ¥æ‰¾å­¤ç«‹çš„è¯é¢˜ï¼ˆæ²¡æœ‰å…³è”è’¸é¦è®°å½•ï¼‰
SELECT t.*
FROM topics t
LEFT JOIN distillations d ON t.distillation_id = d.id
WHERE d.id IS NULL;

-- æŸ¥æ‰¾æ²¡æœ‰æ–‡ç« çš„ä»»åŠ¡
SELECT t.*
FROM generation_tasks t
LEFT JOIN articles a ON t.id = a.task_id
WHERE a.id IS NULL
  AND t.status = 'completed';

-- æ¸…ç†æ—§çš„ä½¿ç”¨è®°å½•ï¼ˆä¿ç•™æœ€è¿‘ 90 å¤©ï¼‰
DELETE FROM distillation_usage
WHERE used_at < NOW() - INTERVAL '90 days';
```

### 4. å¤æ‚æŸ¥è¯¢

```sql
-- è·å–å®Œæ•´çš„æ–‡ç« ç”Ÿæˆä¿¡æ¯
SELECT 
  a.id,
  a.title,
  a.keyword,
  d.keyword as distillation_keyword,
  t.article_count as task_total,
  t.generated_count as task_generated,
  kb.name as knowledge_base_name,
  al.name as album_name,
  a.created_at
FROM articles a
LEFT JOIN distillations d ON a.distillation_id = d.id
LEFT JOIN generation_tasks t ON a.task_id = t.id
LEFT JOIN knowledge_bases kb ON t.knowledge_base_id = kb.id
LEFT JOIN albums al ON t.album_id = al.id
WHERE a.created_at >= NOW() - INTERVAL '7 days'
ORDER BY a.created_at DESC;

-- è·å–çŸ¥è¯†åº“ä½¿ç”¨ç»Ÿè®¡
SELECT 
  kb.id,
  kb.name,
  COUNT(DISTINCT t.id) as task_count,
  COUNT(DISTINCT a.id) as article_count,
  COUNT(DISTINCT kd.id) as document_count
FROM knowledge_bases kb
LEFT JOIN knowledge_documents kd ON kb.id = kd.knowledge_base_id
LEFT JOIN generation_tasks t ON kb.id = t.knowledge_base_id
LEFT JOIN articles a ON t.id = a.task_id
GROUP BY kb.id
ORDER BY article_count DESC;
```

---

## æ•°æ®åº“è¿ç§»

### è¿ç§»è„šæœ¬ä½ç½®

```
server/src/db/
â”œâ”€â”€ schema.sql              # å®Œæ•´çš„æ•°æ®åº“ç»“æ„
â”œâ”€â”€ migrate.ts              # ä¸»è¿ç§»è„šæœ¬
â”œâ”€â”€ migrate-ollama.ts       # Ollama æ”¯æŒè¿ç§»
â”œâ”€â”€ migrate-smart-selection.ts  # æ™ºèƒ½é€‰æ‹©åŠŸèƒ½è¿ç§»
â””â”€â”€ fix-constraint.ts       # çº¦æŸä¿®å¤è„šæœ¬
```

### æ‰§è¡Œè¿ç§»

```bash
# ä¸»è¿ç§»ï¼ˆåˆ›å»ºæ‰€æœ‰è¡¨ï¼‰
cd server
npm run db:migrate

# Ollama æ”¯æŒè¿ç§»ï¼ˆæ·»åŠ  Ollama ç›¸å…³å­—æ®µï¼‰
npm run db:migrate:ollama

# æ™ºèƒ½é€‰æ‹©åŠŸèƒ½è¿ç§»
npm run db:migrate:smart-selection

# ä¿®å¤çº¦æŸ
npm run db:fix:constraint
```

### è¿ç§»å†å²

| ç‰ˆæœ¬ | æ—¥æœŸ | è¯´æ˜ |
|------|------|------|
| 1.0 | 2025-01-01 | åˆå§‹æ•°æ®åº“ç»“æ„ |
| 1.1 | 2025-01-05 | æ·»åŠ  Ollama æ”¯æŒ |
| 1.2 | 2025-01-10 | æ·»åŠ æ–‡ç« ç”Ÿæˆä»»åŠ¡åŠŸèƒ½ |
| 1.3 | 2025-01-12 | æ·»åŠ æ™ºèƒ½é€‰æ‹©åŠŸèƒ½ |
| 1.4 | 2025-01-15 | æ·»åŠ ä½¿ç”¨ç»Ÿè®¡åŠŸèƒ½ |

### å›æ»šè„šæœ¬

```sql
-- å›æ»šæ™ºèƒ½é€‰æ‹©åŠŸèƒ½
ALTER TABLE generation_tasks DROP COLUMN IF EXISTS selected_distillation_ids;

-- å›æ»š Ollama æ”¯æŒ
ALTER TABLE api_configs DROP COLUMN IF EXISTS ollama_base_url;
ALTER TABLE api_configs DROP COLUMN IF EXISTS ollama_model;

-- å›æ»šä½¿ç”¨ç»Ÿè®¡
ALTER TABLE distillations DROP COLUMN IF EXISTS usage_count;
ALTER TABLE distillations DROP COLUMN IF EXISTS last_used_at;
DROP TABLE IF EXISTS distillation_usage;
```

---

## æ•°æ®åº“ç»´æŠ¤

### 1. å¤‡ä»½

```bash
# å¤‡ä»½æ•´ä¸ªæ•°æ®åº“
pg_dump -U postgres geo_system > backup_$(date +%Y%m%d).sql

# ä»…å¤‡ä»½æ•°æ®ï¼ˆä¸åŒ…å«ç»“æ„ï¼‰
pg_dump -U postgres --data-only geo_system > data_backup_$(date +%Y%m%d).sql

# å¤‡ä»½ç‰¹å®šè¡¨
pg_dump -U postgres -t articles -t distillations geo_system > tables_backup.sql
```

### 2. æ¢å¤

```bash
# æ¢å¤æ•´ä¸ªæ•°æ®åº“
psql -U postgres geo_system < backup_20250115.sql

# æ¢å¤ç‰¹å®šè¡¨
psql -U postgres geo_system < tables_backup.sql
```

### 3. æ€§èƒ½ä¼˜åŒ–

```sql
-- åˆ†æè¡¨ç»Ÿè®¡ä¿¡æ¯
ANALYZE distillations;
ANALYZE articles;
ANALYZE topics;

-- é‡å»ºç´¢å¼•
REINDEX TABLE distillations;
REINDEX TABLE articles;

-- æ¸…ç†æ­»å…ƒç»„
VACUUM FULL distillations;
VACUUM FULL articles;

-- æŸ¥çœ‹è¡¨å¤§å°
SELECT 
  schemaname,
  tablename,
  pg_size_pretty(pg_total_relation_size(schemaname||'.'||tablename)) AS size
FROM pg_tables
WHERE schemaname = 'public'
ORDER BY pg_total_relation_size(schemaname||'.'||tablename) DESC;
```

### 4. ç›‘æ§æŸ¥è¯¢

```sql
-- æŸ¥çœ‹æ´»åŠ¨è¿æ¥
SELECT 
  pid,
  usename,
  application_name,
  client_addr,
  state,
  query
FROM pg_stat_activity
WHERE datname = 'geo_system';

-- æŸ¥çœ‹æ…¢æŸ¥è¯¢
SELECT 
  query,
  calls,
  total_time,
  mean_time,
  max_time
FROM pg_stat_statements
WHERE query NOT LIKE '%pg_stat%'
ORDER BY mean_time DESC
LIMIT 10;
```

---

## æœ€ä½³å®è·µ

### 1. ç´¢å¼•ä½¿ç”¨

- ä¸ºç»å¸¸æŸ¥è¯¢çš„å­—æ®µæ·»åŠ ç´¢å¼•
- é¿å…åœ¨å°è¡¨ä¸Šåˆ›å»ºè¿‡å¤šç´¢å¼•
- å®šæœŸåˆ†æå’Œé‡å»ºç´¢å¼•

### 2. æŸ¥è¯¢ä¼˜åŒ–

- ä½¿ç”¨ `EXPLAIN ANALYZE` åˆ†ææŸ¥è¯¢æ€§èƒ½
- é¿å… `SELECT *`ï¼ŒåªæŸ¥è¯¢éœ€è¦çš„å­—æ®µ
- ä½¿ç”¨åˆ†é¡µæŸ¥è¯¢å¤§é‡æ•°æ®

### 3. æ•°æ®æ¸…ç†

- å®šæœŸæ¸…ç†æ—§çš„ä½¿ç”¨è®°å½•
- åˆ é™¤å­¤ç«‹çš„æ•°æ®
- å½’æ¡£å†å²æ•°æ®

### 4. å®‰å…¨å»ºè®®

- ä½¿ç”¨å¼ºå¯†ç 
- é™åˆ¶æ•°æ®åº“è®¿é—® IP
- å®šæœŸå¤‡ä»½æ•°æ®
- åŠ å¯†æ•æ„Ÿæ•°æ®

---

**æ–‡æ¡£ç‰ˆæœ¬**: 2.0  
**æœ€åæ›´æ–°**: 2025-01-15  
**ç»´æŠ¤å›¢é˜Ÿ**: GEO Team
