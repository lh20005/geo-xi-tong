# 关键词蒸馏配置 - 快速开始

## 功能简介

通过"关键词蒸馏配置"模块，您可以自定义关键词蒸馏算法，控制：
- **蒸馏提示词**：发送给AI的指令模板
- **生成话题数量**：每次蒸馏生成多少个话题（5-30个）

## 快速使用

### 1. 访问配置页面

```
http://localhost:5173/config
```

点击"关键词蒸馏配置"标签

### 2. 配置说明

#### 关键词蒸馏提示词
这是发送给AI大模型的指令，必须包含两个占位符：
- `{keyword}` - 会被替换为实际的关键词
- `{count}` - 会被替换为生成话题数量

**示例：**
```
你是一个专业的搜索行为分析专家。请根据关键词"{keyword}"，生成{count}个真实用户在互联网搜索时可能提出的问题。

要求：
1. 问题要符合真实用户的搜索习惯
2. 包含不同的搜索意图（比较、推荐、评价等）
3. 使用常见的搜索词组合

请直接返回问题列表，每行一个问题，不要编号。
```

#### 生成话题数量
- 范围：5-30个
- 推荐：10-15个
- 默认：12个

### 3. 保存配置

1. 编辑提示词和数量
2. 点击"保存配置"按钮
3. 看到成功提示

### 4. 使用配置

配置保存后，所有新的关键词蒸馏任务会自动使用新配置：

1. 访问关键词蒸馏页面
2. 输入关键词（如"英国留学"）
3. 点击"开始蒸馏"
4. 系统会按照您的配置生成话题

## 测试验证

### 方法1：使用验证脚本

```bash
# 确保服务器正在运行
npm run dev

# 在另一个终端运行验证脚本
./验证关键词蒸馏配置功能.sh
```

### 方法2：手动测试

**测试API：**
```bash
# 获取当前配置
curl http://localhost:3000/api/config/distillation | jq

# 保存新配置
curl -X POST http://localhost:3000/api/config/distillation \
  -H "Content-Type: application/json" \
  -d '{
    "prompt": "你的提示词 {keyword} 和 {count}",
    "topicCount": 15
  }' | jq
```

**测试前端：**
1. 打开浏览器访问 `http://localhost:5173/config`
2. 切换到"关键词蒸馏配置"标签
3. 修改配置并保存
4. 访问关键词蒸馏页面测试

## 常见问题

### Q: 提示词必须包含什么？
A: 必须包含 `{keyword}` 和 `{count}` 两个占位符，否则无法保存。

### Q: 话题数量可以设置多少？
A: 5-30个之间。太少可能覆盖不全，太多会增加处理时间。

### Q: 修改配置后立即生效吗？
A: 是的，保存后的下一次蒸馏就会使用新配置。

### Q: 旧的蒸馏记录会受影响吗？
A: 不会，只影响新的蒸馏任务。

### Q: 如何恢复默认配置？
A: 在配置页面将内容改回默认值，然后保存。

## 提示词编写技巧

### 基本结构
```
[角色定位] + [任务描述] + [要求列表] + [示例] + [输出格式]
```

### 好的提示词特点
✓ 清晰的角色定位
✓ 明确的任务目标
✓ 具体的要求说明
✓ 有代表性的示例
✓ 明确的输出格式

### 避免的问题
✗ 指令模糊不清
✗ 缺少示例
✗ 要求过于复杂
✗ 忘记添加占位符

## 默认配置

系统预设的默认配置：

**提示词：**
```
你是一个专业的搜索行为分析专家。请根据关键词"{keyword}"，生成{count}个真实用户在互联网搜索时可能提出的问题。

要求：
1. 问题要符合真实用户的搜索习惯
2. 包含不同的搜索意图（比较、推荐、评价等）
3. 使用常见的搜索词组合，如"哪家好"、"靠谱的"、"口碑好的"、"性价比高的"、"专业的"等
4. 问题要自然、口语化

示例（关键词：英国留学）：
- 专业的英国留学哪家好
- 靠谱的英国留学机构哪家好
- 口碑好的英国留学企业哪家好
- 性价比高的英国留学公司哪家好
- 专业的英国留学服务商哪家专业

请直接返回问题列表，每行一个问题，不要编号，不要其他说明文字。
```

**话题数量：** 12个

## 技术支持

如有问题，请查看：
- 完整文档：`关键词蒸馏配置功能说明.md`
- 测试脚本：`test-distillation-config.sh`
- 验证脚本：`验证关键词蒸馏配置功能.sh`
