# 查看日志指南

## 如何查看服务器日志

### 方法1：在终端查看
1. 打开终端
2. 进入server目录：`cd server`
3. 启动服务器：`npm run dev`
4. 在前端点击"执行"按钮
5. 回到终端，查看输出的日志

### 方法2：查看日志文件
如果日志太多，可以保存到文件：
```bash
cd server
npm run dev > server.log 2>&1
```

然后在另一个终端查看：
```bash
tail -f server/server.log | grep "头条号"
```

## 关键日志标识

### 成功找到标题输入框
```
[头条号] ========================================
[头条号] ✅✅✅ 找到标题输入框！开始输入标题
[头条号] ========================================
[头条号] 📝 标题内容: "XXX"
[头条号] 🖱️  步骤1：点击标题输入框，让光标进入
[头条号] 🖱️  正在点击...
[头条号] ✅ 已执行点击命令
```

### 未找到标题输入框
```
[头条号] ========================================
[头条号] ❌❌❌ 严重错误：未找到标题输入框！！！
[头条号] ========================================
```

### 页面上的input元素列表
```
[头条号] 📋 页面上的所有input元素:
[
  {
    "index": 0,
    "type": "text",
    "placeholder": "请输入文章标题",
    "name": "title",
    "id": "",
    "visible": true
  },
  ...
]
```

## 需要提供的信息

请复制并发送以下内容：

### 1. 完整的日志输出
从这一行开始：
```
[头条号] 开始发布文章
```

到这一行结束：
```
[头条号] 等待10秒观察结果...
```

### 2. 页面截图
查看项目根目录下的文件：
```
toutiao-publish-page.png
```

这是自动保存的页面截图，可以看到实际的页面状态。

### 3. Input元素列表
日志中的这部分：
```
[头条号] 📋 页面上的所有input元素:
[...]
```

## 快速诊断

根据日志判断问题：

### 情况A：找到了标题输入框，但鼠标没点击
日志显示：
```
[头条号] ✅✅✅ 找到标题输入框！
[头条号] 🖱️  正在点击...
[头条号] ✅ 已执行点击命令
```

但浏览器中没有看到点击动作。

**可能原因**：
- 元素被其他元素遮挡
- 元素不可见或不可点击
- 需要先滚动到元素位置

### 情况B：未找到标题输入框
日志显示：
```
[头条号] ❌❌❌ 严重错误：未找到标题输入框！！！
```

**可能原因**：
- 页面未完全加载
- 页面结构变化，选择器失效
- 不在正确的发布页面

### 情况C：页面上没有input元素
日志显示：
```
[头条号] 📊 找到 0 个input元素
```

**可能原因**：
- 页面加载失败
- 登录失败，不在发布页面
- 页面使用了iframe或shadow DOM

## 下一步

根据你提供的日志，我可以：
1. 确定是否找到了标题输入框
2. 如果找到了，为什么点击没有生效
3. 如果没找到，正确的选择器是什么
4. 是否需要调整页面加载等待时间

请提供上述信息，我会立即修复问题。
