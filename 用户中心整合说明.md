# ç”¨æˆ·ä¸­å¿ƒæ•´åˆè¯´æ˜

## ğŸ¯ æ•´åˆç›®æ ‡

å°† Landing é¡µé¢çš„ `/profile` å’Œä¸»åº”ç”¨çš„ `/user-center` æ•´åˆæˆä¸€ä¸ªå®Œæ•´çš„ç”¨æˆ·ä¸­å¿ƒé¡µé¢ã€‚

## ğŸ“Š åŠŸèƒ½å¯¹æ¯”

### Landing `/profile` (8080ç«¯å£)
- âœ… ç”¨æˆ·åŸºæœ¬ä¿¡æ¯ï¼ˆç”¨æˆ·åã€è§’è‰²ã€æ³¨å†Œæ—¶é—´ã€æœ€åç™»å½•ï¼‰
- âœ… é‚€è¯·ç å±•ç¤ºå’Œå¤åˆ¶
- âœ… é‚€è¯·ç»Ÿè®¡ï¼ˆç´¯è®¡é‚€è¯·æ•°ã€å—é‚€ç”¨æˆ·åˆ—è¡¨ï¼‰
- âœ… ä¿®æ”¹å¯†ç åŠŸèƒ½

### ä¸»åº”ç”¨ `/user-center` (5173ç«¯å£)
- âœ… è®¢é˜…ä¿¡æ¯ï¼ˆå¥—é¤ã€åˆ°æœŸæ—¶é—´ã€çŠ¶æ€ã€è‡ªåŠ¨ç»­è´¹ï¼‰
- âœ… ä½¿ç”¨ç»Ÿè®¡ï¼ˆå„åŠŸèƒ½é…é¢ä½¿ç”¨æƒ…å†µï¼‰
- âœ… è®¢å•è®°å½•ï¼ˆå†å²è®¢å•åˆ—è¡¨ï¼‰
- âœ… å¥—é¤å‡çº§åŠŸèƒ½

## âœ… æ•´åˆæ–¹æ¡ˆ

### æ–¹æ¡ˆï¼šä½¿ç”¨ Tabs ç»„ç»‡åŠŸèƒ½

```
ç”¨æˆ·ä¸­å¿ƒ
â”œâ”€â”€ Tab 1: æˆ‘çš„è®¢é˜…
â”‚   â”œâ”€â”€ è®¢é˜…ä¿¡æ¯å¡ç‰‡
â”‚   â””â”€â”€ ä½¿ç”¨ç»Ÿè®¡å¡ç‰‡
â”œâ”€â”€ Tab 2: ä¸ªäººèµ„æ–™  
â”‚   â”œâ”€â”€ åŸºæœ¬ä¿¡æ¯å¡ç‰‡
â”‚   â”œâ”€â”€ é‚€è¯·ç å¡ç‰‡
â”‚   â””â”€â”€ é‚€è¯·ç»Ÿè®¡å¡ç‰‡
â””â”€â”€ Tab 3: è®¢å•è®°å½•
    â””â”€â”€ è®¢å•åˆ—è¡¨è¡¨æ ¼
```

## ğŸ”§ å®æ–½æ­¥éª¤

### æ­¥éª¤ 1ï¼šæ›´æ–°ä¸»åº”ç”¨çš„ UserCenterPage

**æ–‡ä»¶**: `client/src/pages/UserCenterPage.tsx`

**éœ€è¦æ·»åŠ çš„åŠŸèƒ½**:

1. **æ–°å¢çŠ¶æ€**:
```typescript
const [userProfile, setUserProfile] = useState<UserProfile | null>(null);
const [invitationStats, setInvitationStats] = useState<InvitationStats | null>(null);
const [passwordModalVisible, setPasswordModalVisible] = useState(false);
const [passwordForm] = Form.useForm();
const [activeTab, setActiveTab] = useState('subscription');
```

2. **æ–°å¢æ¥å£**:
```typescript
// è·å–ç”¨æˆ·èµ„æ–™
const fetchUserProfile = async () => {
  const token = localStorage.getItem('auth_token');
  const response = await axios.get(`${API_BASE_URL}/auth/profile`, {
    headers: { Authorization: `Bearer ${token}` }
  });
  if (response.data.success) {
    setUserProfile(response.data.data);
  }
};

// è·å–é‚€è¯·ç»Ÿè®¡
const fetchInvitationStats = async () => {
  const token = localStorage.getItem('auth_token');
  const response = await axios.get(`${API_BASE_URL}/invitation/stats`, {
    headers: { Authorization: `Bearer ${token}` }
  });
  if (response.data.success) {
    setInvitationStats(response.data.data);
  }
};

// ä¿®æ”¹å¯†ç 
const handleChangePassword = async (values: any) => {
  const token = localStorage.getItem('auth_token');
  await axios.put(
    `${API_BASE_URL}/auth/change-password`,
    values,
    { headers: { Authorization: `Bearer ${token}` } }
  );
  message.success('å¯†ç ä¿®æ”¹æˆåŠŸ');
  setPasswordModalVisible(false);
  passwordForm.resetFields();
};

// å¤åˆ¶é‚€è¯·ç 
const handleCopyInvitationCode = () => {
  if (userProfile?.invitation_code) {
    navigator.clipboard.writeText(userProfile.invitation_code);
    message.success('é‚€è¯·ç å·²å¤åˆ¶');
  }
};
```

3. **UI ç»“æ„**:
```tsx
<Tabs activeKey={activeTab} onChange={setActiveTab}>
  <TabPane tab="æˆ‘çš„è®¢é˜…" key="subscription">
    {/* åŸæœ‰çš„è®¢é˜…ä¿¡æ¯å’Œä½¿ç”¨ç»Ÿè®¡ */}
  </TabPane>
  
  <TabPane tab="ä¸ªäººèµ„æ–™" key="profile">
    {/* åŸºæœ¬ä¿¡æ¯å¡ç‰‡ */}
    {/* é‚€è¯·ç å¡ç‰‡ */}
    {/* é‚€è¯·ç»Ÿè®¡å¡ç‰‡ */}
  </TabPane>
  
  <TabPane tab="è®¢å•è®°å½•" key="orders">
    {/* è®¢å•åˆ—è¡¨è¡¨æ ¼ */}
  </TabPane>
</Tabs>
```

### æ­¥éª¤ 2ï¼šæ›´æ–° Header å¯¼èˆª

**æ–‡ä»¶**: `client/src/components/Layout/Header.tsx`

**å·²å®Œæˆ**: âœ… ä¿®æ”¹"ä¸ªäººä¸­å¿ƒ"è·³è½¬åˆ° `/user-center`

### æ­¥éª¤ 3ï¼šåºŸå¼ƒ Landing çš„ ProfilePage

**æ–‡ä»¶**: `landing/src/pages/ProfilePage.tsx`

**å¤„ç†æ–¹å¼**: 
- ä¿ç•™æ–‡ä»¶ä½†æ·»åŠ é‡å®šå‘åˆ°ä¸»åº”ç”¨
- æˆ–è€…å®Œå…¨ç§»é™¤è¯¥è·¯ç”±

## ğŸ“ éœ€è¦çš„åç«¯ API

### 1. è·å–ç”¨æˆ·èµ„æ–™
```
GET /api/auth/profile
Response: {
  success: true,
  data: {
    id: number,
    username: string,
    role: string,
    invitation_code: string,
    created_at: string,
    last_login_at: string
  }
}
```

### 2. è·å–é‚€è¯·ç»Ÿè®¡
```
GET /api/invitation/stats
Response: {
  success: true,
  data: {
    total_invites: number,
    invited_users: [{
      username: string,
      created_at: string
    }]
  }
}
```

### 3. ä¿®æ”¹å¯†ç 
```
PUT /api/auth/change-password
Body: {
  old_password: string,
  new_password: string
}
Response: {
  success: true,
  message: "å¯†ç ä¿®æ”¹æˆåŠŸ"
}
```

## ğŸ¨ UI è®¾è®¡

### Tab 1: æˆ‘çš„è®¢é˜…
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æˆ‘çš„è®¢é˜…                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ å½“å‰å¥—é¤  åˆ°æœŸæ—¶é—´  çŠ¶æ€  è‡ªåŠ¨ç»­è´¹â”‚ â”‚
â”‚ â”‚ ä¸“ä¸šç‰ˆ    2026-02-04  æ­£å¸¸  å·²å¼€å¯â”‚ â”‚
â”‚ â”‚         [å…³é—­è‡ªåŠ¨ç»­è´¹] [å‡çº§å¥—é¤] â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚ ä½¿ç”¨ç»Ÿè®¡                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚å…³é”®è¯è’¸é¦     â”‚ â”‚AIæ–‡ç« ç”Ÿæˆ     â”‚  â”‚
â”‚ â”‚ 10/100 â–ˆâ–ˆâ–ˆâ–ˆ  â”‚ â”‚ 50/200 â–ˆâ–ˆâ–ˆâ–ˆ  â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Tab 2: ä¸ªäººèµ„æ–™
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åŸºæœ¬ä¿¡æ¯                             â”‚
â”‚ ç”¨æˆ·å: lzc2005                      â”‚
â”‚ è§’è‰²: æ™®é€šç”¨æˆ·                       â”‚
â”‚ æ³¨å†Œæ—¶é—´: 2026-01-04                 â”‚
â”‚ [ä¿®æ”¹å¯†ç ]                           â”‚
â”‚                                     â”‚
â”‚ æˆ‘çš„é‚€è¯·ç                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚  XR2W8Q          [å¤åˆ¶]         â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚ é‚€è¯·ç»Ÿè®¡                             â”‚
â”‚ ç´¯è®¡é‚€è¯·: 0 äºº                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Tab 3: è®¢å•è®°å½•
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è®¢å•å·  å¥—é¤  é‡‘é¢  çŠ¶æ€  åˆ›å»ºæ—¶é—´    â”‚
â”‚ ORD...  ä¸“ä¸šç‰ˆ 0.01 å·²æ”¯ä»˜ 2026-01-04â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ å®æ–½ä¼˜å…ˆçº§

### é«˜ä¼˜å…ˆçº§ï¼ˆç«‹å³å®æ–½ï¼‰
1. âœ… ä¿®æ”¹ Header è·³è½¬ï¼ˆå·²å®Œæˆï¼‰
2. â³ æ·»åŠ  Tabs ç»„ç»‡ç»“æ„
3. â³ æ•´åˆåŸºæœ¬ä¿¡æ¯å±•ç¤º
4. â³ æ•´åˆé‚€è¯·ç åŠŸèƒ½

### ä¸­ä¼˜å…ˆçº§ï¼ˆåç»­ä¼˜åŒ–ï¼‰
1. â³ æ·»åŠ ä¿®æ”¹å¯†ç åŠŸèƒ½
2. â³ ä¼˜åŒ– UI æ ·å¼ç»Ÿä¸€
3. â³ æ·»åŠ åŠ è½½çŠ¶æ€

### ä½ä¼˜å…ˆçº§ï¼ˆå¯é€‰ï¼‰
1. â³ åºŸå¼ƒ Landing çš„ ProfilePage
2. â³ æ·»åŠ æ›´å¤šä¸ªäººè®¾ç½®é€‰é¡¹

## ğŸ“Œ æ³¨æ„äº‹é¡¹

1. **API å…¼å®¹æ€§**: ç¡®ä¿åç«¯ API å·²å®ç°æ‰€éœ€æ¥å£
2. **æƒé™æ§åˆ¶**: é‚€è¯·ç åŠŸèƒ½å¯èƒ½éœ€è¦ç‰¹å®šæƒé™
3. **æ•°æ®åŒæ­¥**: WebSocket å®æ—¶æ›´æ–°éœ€è¦è¦†ç›–æ–°å¢åŠŸèƒ½
4. **æ ·å¼ç»Ÿä¸€**: Ant Design å’Œ Tailwind æ··ç”¨éœ€è¦æ³¨æ„æ ·å¼å†²çª

## âœ… éªŒæ”¶æ ‡å‡†

- [ ] ç”¨æˆ·å¯ä»¥åœ¨ä¸€ä¸ªé¡µé¢æŸ¥çœ‹æ‰€æœ‰ä¿¡æ¯
- [ ] Tab åˆ‡æ¢æµç•…æ— å¡é¡¿
- [ ] æ‰€æœ‰åŸæœ‰åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- [ ] æ–°å¢åŠŸèƒ½ï¼ˆé‚€è¯·ç ã€ä¿®æ”¹å¯†ç ï¼‰æ­£å¸¸å·¥ä½œ
- [ ] WebSocket å®æ—¶æ›´æ–°æ­£å¸¸
- [ ] ç§»åŠ¨ç«¯å“åº”å¼å¸ƒå±€æ­£å¸¸

---

**åˆ›å»ºæ—¶é—´**: 2026-01-04 11:00
**çŠ¶æ€**: è§„åˆ’ä¸­
**é¢„è®¡å·¥ä½œé‡**: 2-3 å°æ—¶
