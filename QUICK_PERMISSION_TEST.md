# 快速权限测试指南

## ✅ 测试账号已创建

### 管理员账号
```
用户名：admin
密码：  admin123
```

### 普通用户账号
```
用户名：testuser
密码：  test123
```

---

## 🚀 快速测试步骤

### 网页端测试（5分钟）

#### 1️⃣ 测试管理员权限
```bash
# 访问网页端
http://localhost:5173

# 登录
用户名：admin
密码：  admin123

# 验证
✅ 左侧菜单显示"系统配置"
✅ 可以点击进入系统配置页面
✅ 可以通过 URL 访问 /config
```

#### 2️⃣ 测试普通用户权限
```bash
# 退出登录，重新登录
用户名：testuser
密码：  test123

# 验证
❌ 左侧菜单不显示"系统配置"
❌ 访问 /config 会被重定向到首页
✅ 显示警告："您没有权限访问此页面"
```

---

### Windows端测试（5分钟）

#### 1️⃣ 测试管理员权限
```bash
# 启动 Windows 登录管理器
cd windows-login-manager
npm run dev

# 登录
用户名：admin
密码：  admin123

# 验证
✅ 左侧菜单显示"设置"
✅ 可以点击进入设置页面
```

#### 2️⃣ 测试普通用户权限
```bash
# 退出登录，重新登录
用户名：testuser
密码：  test123

# 验证
❌ 左侧菜单不显示"设置"
❌ 访问 /settings 会被重定向到 /platforms
✅ 控制台显示："[Auth] 非管理员用户尝试访问设置页面"
```

---

## 📸 预期效果截图说明

### 管理员登录
- 网页端：菜单显示 14 个选项（包括"系统配置"）
- Windows端：菜单显示 3 个选项（包括"设置"）

### 普通用户登录
- 网页端：菜单显示 13 个选项（不包括"系统配置"）
- Windows端：菜单显示 2 个选项（不包括"设置"）

---

## 🔍 验证清单

### 网页端
- [ ] 管理员可以看到"系统配置"菜单
- [ ] 管理员可以访问 /config 页面
- [ ] 普通用户看不到"系统配置"菜单
- [ ] 普通用户访问 /config 被重定向
- [ ] 显示权限警告消息

### Windows端
- [ ] 管理员可以看到"设置"菜单
- [ ] 管理员可以访问设置页面
- [ ] 普通用户看不到"设置"菜单
- [ ] 普通用户访问 /settings 被重定向
- [ ] 控制台显示权限日志

---

## 🐛 常见问题

### Q: 登录后菜单没有变化？
**A:** 清除浏览器缓存和 localStorage，重新登录

### Q: 普通用户还能看到"系统配置"？
**A:** 检查用户角色是否正确，查看浏览器控制台

### Q: 访问受限页面没有重定向？
**A:** 检查 AdminRoute 组件是否正确加载

### Q: Windows端用户信息丢失？
**A:** 检查 electron-store 是否正常工作

---

## 📝 测试报告模板

```
测试日期：____________________
测试人员：____________________

网页端测试：
[ ] 管理员权限 - 通过/失败
[ ] 普通用户权限 - 通过/失败

Windows端测试：
[ ] 管理员权限 - 通过/失败
[ ] 普通用户权限 - 通过/失败

问题记录：
_________________________________
_________________________________
_________________________________
```

---

## 🎯 下一步

测试通过后，可以：
1. 创建更多测试用户
2. 添加更细粒度的权限控制
3. 实现后端API权限验证
4. 添加权限管理界面

---

## 📚 相关文档

- `TEST_ACCOUNTS.md` - 完整账号信息
- `ROLE_BASED_ACCESS_CONTROL_TEST.md` - 详细测试指南
- `PERMISSION_IMPLEMENTATION_SUMMARY.md` - 实现总结
