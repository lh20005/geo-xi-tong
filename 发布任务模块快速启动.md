# 发布任务模块 - 快速启动指南

## 🚀 快速开始

### 1. 启动服务

```bash
# 启动后端服务
cd server
npm run dev

# 启动前端服务（新终端）
cd client
npm run dev
```

### 2. 访问页面

打开浏览器访问：
```
http://localhost:5173/publishing-tasks
```

### 3. 准备工作

在使用发布任务模块之前，请确保：

#### ✅ 步骤1: 配置平台登录
1. 访问 `平台登录` 页面
2. 点击平台卡片进行浏览器登录
3. 确保至少有一个平台登录成功

#### ✅ 步骤2: 生成草稿文章
1. 访问 `文章管理` 页面
2. 确保有草稿状态的文章
3. 如果没有，可以在 `生成文章` 页面创建

## 📋 使用流程

### 基础发布（3步完成）

```
第1步: 选择文章
├─ 在"选择文章"区域勾选要发布的文章
└─ 支持单选或全选

第2步: 选择平台
├─ 在"选择发布平台"区域点击平台卡片
└─ 可以选择多个平台

第3步: 创建任务
├─ 点击"创建发布任务"按钮
├─ 确认任务数量
└─ 等待任务执行
```

### 定时发布（4步完成）

```
第1步: 选择文章和平台（同上）

第2步: 设置发布时间
├─ 点击日期选择器
└─ 选择未来的日期和时间

第3步: 创建定时任务
└─ 点击"创建发布任务"按钮

第4步: 等待自动执行
└─ 系统会在指定时间自动发布
```

## 🎯 功能演示

### 演示1: 发布1篇文章到3个平台

```
1. 勾选1篇文章 ✓
2. 点击3个平台卡片 ✓
3. 查看配置区显示：
   - 已选择 1 篇文章
   - 已选择 3 个平台
   - 将创建 3 个任务
4. 点击"创建发布任务" ✓
5. 在任务列表查看3个任务的执行状态
```

### 演示2: 批量发布10篇文章

```
1. 点击表头复选框全选文章 ✓
2. 选择2个平台 ✓
3. 配置区显示：将创建 20 个任务
4. 创建任务 ✓
5. 监控20个任务的执行进度
```

### 演示3: 定时发布

```
1. 选择文章和平台 ✓
2. 点击日期选择器
3. 选择明天上午10:00
4. 创建定时任务 ✓
5. 任务状态显示"等待中"
6. 明天10:00自动执行
```

## 📊 页面布局说明

```
┌─────────────────────────────────────────────────────┐
│ 📊 统计卡片                                          │
│ [草稿文章] [已配置平台] [运行中任务] [今日已发布]    │
├─────────────────────────────────────────────────────┤
│ 📝 选择文章                              [刷新]      │
│ ┌─────────────────────────────────────────────────┐ │
│ │ ☑ ID  关键词  蒸馏结果  创建时间                 │ │
│ │ ☐ 1   SEO优化  如何提升排名  2024-12-16 10:00   │ │
│ │ ☐ 2   内容营销  营销策略    2024-12-16 11:00   │ │
│ └─────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────┤
│ 🌐 选择发布平台                          [刷新]      │
│ ┌────────┐ ┌────────┐ ┌────────┐ ┌────────┐       │
│ │   头   │ │   百   │ │   搜   │ │   网   │       │
│ │   条   │ │   家   │ │   狐   │ │   易   │       │
│ │ 账号1  │ │ 账号1  │ │ 账号1  │ │ 账号1  │       │
│ └────────┘ └────────┘ └────────┘ └────────┘       │
├─────────────────────────────────────────────────────┤
│ 🎯 发布配置（选择后显示）                            │
│ 已选 2 篇文章 | 已选 3 个平台 | 将创建 6 个任务      │
│ [定时发布时间选择器]  [创建发布任务]                 │
├─────────────────────────────────────────────────────┤
│ 📋 发布任务                              [刷新]      │
│ ┌─────────────────────────────────────────────────┐ │
│ │ ID  文章  平台  账号  状态  时间  操作           │ │
│ │ 1   1    头条  账号1  成功  10:00  [日志]       │ │
│ │ 2   1    百家  账号1  执行中 10:01  [日志]      │ │
│ │ 3   2    头条  账号1  等待中 -     [执行][取消] │ │
│ └─────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────┘
```

## 🧪 测试方法

### 方法1: 使用测试脚本

```bash
# 运行测试脚本
./test-publishing-tasks.sh
```

### 方法2: 使用测试页面

```bash
# 在浏览器打开
open test-publishing-tasks-page.html
```

### 方法3: 手动测试

1. 打开浏览器开发者工具（F12）
2. 访问发布任务页面
3. 执行以下操作并观察：
   - 选择文章
   - 选择平台
   - 创建任务
   - 查看任务状态
   - 查看任务日志

## 🔍 常见问题

### Q1: 页面显示"暂无草稿文章"？
**A**: 请先到"文章管理"或"生成文章"页面创建草稿文章。

### Q2: 页面显示"暂无已登录平台"？
**A**: 请先到"平台登录"页面完成平台登录。

### Q3: 创建任务后没有反应？
**A**: 
1. 检查浏览器控制台是否有错误
2. 检查后端服务是否正常运行
3. 刷新页面重试

### Q4: 任务一直显示"等待中"？
**A**: 
1. 如果是定时任务，等待到指定时间
2. 如果是立即执行，点击"执行"按钮
3. 检查后端任务调度服务是否运行

### Q5: 如何查看任务失败原因？
**A**: 点击任务行的"日志"按钮，查看详细的错误信息。

## 💡 使用技巧

### 技巧1: 批量操作
- 使用全选功能快速选择所有文章
- 一次选择多个平台进行批量发布
- 利用定时功能安排发布计划

### 技巧2: 任务管理
- 定期查看任务列表，了解发布进度
- 对失败的任务查看日志，找出原因
- 使用刷新按钮获取最新状态

### 技巧3: 效率提升
- 提前准备好草稿文章
- 配置好常用的发布平台
- 使用定时发布功能错峰发布

## 📈 性能建议

### 推荐配置
- 单次选择文章数：≤ 50篇
- 单次选择平台数：≤ 5个
- 单次创建任务数：≤ 250个

### 大批量发布
如果需要发布大量文章：
1. 分批次选择和发布
2. 使用定时功能分散任务
3. 监控系统资源使用情况

## 🎨 界面说明

### 颜色含义
- **蓝色**: 文章相关、信息提示
- **绿色**: 平台相关、成功状态
- **橙色**: 警告、运行中状态
- **红色**: 错误、失败状态
- **紫色**: 重要操作、高亮区域

### 图标说明
- 📝 文件图标：文章相关
- 🌐 云图标：平台相关
- ⏰ 时钟图标：等待状态
- 🔄 旋转图标：执行中
- ✅ 对勾图标：成功
- ❌ 叉号图标：失败

## 🔗 相关页面

- **平台登录**: `/platform-management` - 配置发布平台
- **文章管理**: `/articles` - 管理文章
- **生成文章**: `/article-generation` - 创建新文章
- **发布记录**: `/publishing-records` - 查看历史记录

## 📞 获取帮助

### 文档
- 使用指南: `发布任务模块使用指南.md`
- 功能说明: `发布任务模块功能说明.md`

### 测试工具
- Shell脚本: `test-publishing-tasks.sh`
- HTML页面: `test-publishing-tasks-page.html`

### 技术支持
如遇到问题，请：
1. 查看浏览器控制台错误信息
2. 查看后端服务日志
3. 参考相关文档
4. 联系技术支持团队

---

**祝您使用愉快！** 🎉
