{
  "cookies": [
    {
      "name": "gd_random",
      "value": "eyJtYXRjaCI6dHJ1ZSwicGVyY2VudCI6MC44NTAwNzkzOTU4NDM4MjR9.miX5GwhF0mny4XHvPaoRVU8Tuq+71CR6NITpdpehN4Y=",
      "domain": "mp.toutiao.com",
      "path": "/profile_v4/mp-sw.js",
      "expires": 1767791907.601873,
      "httpOnly": true,
      "secure": false,
      "sameSite": "Lax"
    },
    {
      "name": "gd_random",
      "value": "eyJtYXRjaCI6dHJ1ZSwicGVyY2VudCI6MC44NTAwNzkzOTU4NDM4MjR9.miX5GwhF0mny4XHvPaoRVU8Tuq+71CR6NITpdpehN4Y=",
      "domain": "mp.toutiao.com",
      "path": "/profile_v4",
      "expires": 1767791907.346546,
      "httpOnly": true,
      "secure": false,
      "sameSite": "Lax"
    },
    {
      "name": "x-jupiter-uuid",
      "value": "17671871099541968",
      "domain": "mp.toutiao.com",
      "path": "/auth/page",
      "expires": 1767791909.915426,
      "httpOnly": true,
      "secure": true,
      "sameSite": "Lax"
    },
    {
      "name": "gfkadpd",
      "value": "1231,25897",
      "domain": "mp.toutiao.com",
      "path": "/",
      "expires": 1767446307,
      "httpOnly": false,
      "secure": true,
      "sameSite": "None"
    },
    {
      "name": "x-web-secsdk-uid",
      "value": "85284026-78f5-44d4-9866-6ffef6e354d1",
      "domain": "mp.toutiao.com",
      "path": "/",
      "expires": -1,
      "httpOnly": false,
      "secure": false,
      "sameSite": "Lax"
    },
    {
      "name": "csrf_session_id",
      "value": "8f18632f2c58e39d9b7aa7be627d0731",
      "domain": "mp.toutiao.com",
      "path": "/",
      "expires": -1,
      "httpOnly": false,
      "secure": true,
      "sameSite": "None"
    },
    {
      "name": "ttwid",
      "value": "1%7C8wYVz-YQ4UZ4E5FZR_1ULXB_Ac6nhucH0svn6j2FL9o%7C1767187109%7Ca769491ee3528f9c3e35143a8eccc6c8fccf7f9abde02b486cd977e760c836c4",
      "domain": ".bytedance.com",
      "path": "/",
      "expires": 1798723109.697944,
      "httpOnly": true,
      "secure": true,
      "sameSite": "None"
    },
    {
      "name": "passport_csrf_token",
      "value": "68ad16eb575b6eb1634286625d0dea56",
      "domain": ".toutiao.com",
      "path": "/",
      "expires": 1772371109.737772,
      "httpOnly": false,
      "secure": true,
      "sameSite": "None"
    },
    {
      "name": "passport_csrf_token_default",
      "value": "68ad16eb575b6eb1634286625d0dea56",
      "domain": ".toutiao.com",
      "path": "/",
      "expires": 1772371109.737798,
      "httpOnly": false,
      "secure": false,
      "sameSite": "Lax"
    },
    {
      "name": "s_v_web_id",
      "value": "verify_mju1kt15_lRUfAtPm_EXMN_4XKm_9Tsg_aeCVfGaeAta5",
      "domain": "mp.toutiao.com",
      "path": "/",
      "expires": 1772371110,
      "httpOnly": false,
      "secure": false,
      "sameSite": "Lax"
    },
    {
      "name": "ttwid",
      "value": "1%7C8wYVz-YQ4UZ4E5FZR_1ULXB_Ac6nhucH0svn6j2FL9o%7C1767187110%7Cb93bc5341f640ee3cc18fb88ee8875b7e2399041b98c4afbb7797ee813d16d76",
      "domain": ".toutiao.com",
      "path": "/",
      "expires": 1798723110.314361,
      "httpOnly": true,
      "secure": true,
      "sameSite": "None"
    }
  ],
  "origins": [
    {
      "origin": "https://mp.toutiao.com",
      "localStorage": [
        {
          "name": "web_security_runtime_cache_https://lf-security.bytegoofy.com/obj/security-secsdk/config_53.js",
          "value": "window.registToModule('globalConfig',{\"strategy\":{\"hitGray\":{\"body\":{\"singleKey\":\"hitGray\",\"version\":\"1.0.4\",\"createdAt\":\"2025-07-30T06:47:00.000Z\",\"latest\":0,\"strategyKey\":\"hitGray\",\"key\":\"hitGray\",\"disabled\":false,\"condition\":\"true\",\"expression\":\"\\\"use strict\\\";\\nfunction main(n) {\\n  const { config } = window.use(\\\"globalConfig\\\").strategy.hitGray;\\n  const ActionType = window.use(\\\"ActionType\\\");\\n  const { selectors, sampleRatio } = config;\\n  const result = [];\\n  const matchResult = (selector) => {\\n    const { path, value, op } = selector;\\n    let cur = window;\\n    const paths = path.split(\\\".\\\");\\n    let count = 0;\\n    for (const key of paths) {\\n      if (cur) {\\n        count++;\\n        cur = cur[key];\\n      }\\n    }\\n    if (window !== cur && count === paths.length) {\\n      if (op === \\\"===\\\") {\\n        return cur === value;\\n      } else if (op === \\\"!==\\\") {\\n        return cur !== value;\\n      }\\n    }\\n    return false;\\n  };\\n  for (const selector of selectors) {\\n    if (Array.isArray(selector)) {\\n      result.push(selector.every(matchResult));\\n    } else {\\n      result.push(matchResult(selector));\\n    }\\n  }\\n  if (Math.floor(Math.random() * 1e4) < sampleRatio) {\\n    result.push(true);\\n  }\\n  return { type: result.length > 0 && result.some((v) => v) ? ActionType.REWRITE : ActionType.PASS };\\n}\\n;return main(event);\"},\"config\":{\"selectors\":[[{\"path\":\"gfdatav1.env\",\"value\":\"prod\",\"op\":\"===\"},{\"path\":\"gfdatav1.envName\",\"value\":\"canary\",\"op\":\"!==\"},{\"path\":\"gfdatav1.envName\",\"value\":\"prod\",\"op\":\"!==\"}],{\"path\":\"gfdatav1.env\",\"value\":\"boe\",\"op\":\"===\"}],\"sampleRatio\":0}},\"monitor\":{\"config\":{\"sampleRatio\":10000}}}})"
        },
        {
          "name": "menu-open-keys",
          "value": "[\"toutiao\",\"base_creation\",\"management\",\"data_helper\",\"advance_creation\",\"checkout\",\"guide\",\"tools\",\"setting\"]"
        },
        {
          "name": "__msuuid__",
          "value": "9fe036fa-2fcb-4cdb-8d88-c2455482d5a1"
        },
        {
          "name": "web_security_runtime_cache_https://lf-security.bytegoofy.com/obj/security-secsdk/strategy_53.js?v=1",
          "value": "window.registToModule('strategy',{\"event\":{\"CONTENT_LOADED\":[\"proxyFishing\"]},\"strategy\":{\"proxyFishing\":{\"body\":{\"singleKey\":\"proxyFishing\",\"version\":\"5\",\"createdAt\":\"2025-09-16T12:27:31.000Z\",\"latest\":0,\"strategyKey\":\"proxyFishing\",\"key\":\"proxyFishing\",\"disabled\":false,\"condition\":\"return true;\",\"expression\":\"\\\"use strict\\\";\\nfunction main(event) {\\n  const win = window;\\n  const ActionType = win.use(\\\"ActionType\\\");\\n  const { config } = win.use(\\\"strategy\\\").strategy.proxyFishing;\\n  const { domain = [], block = false } = config;\\n  const url = new URL(location.href, location.href);\\n  const { host, protocol } = url;\\n  for (const d of domain) {\\n    if (host.includes(d) || protocol.includes(d)) {\\n      return {\\n        type: ActionType.PASS,\\n        reason: \\\"\\\",\\n        payload: {}\\n      };\\n    }\\n  }\\n  return block ? {\\n    type: ActionType.BLOCK,\\n    reason: \\\"\\\",\\n    payload: {}\\n  } : {\\n    type: ActionType.REPORT_ONLY,\\n    reason: \\\"\\\",\\n    payload: {}\\n  };\\n}\\n;return main(event);\"},\"config\":{\"domain\":[\"toutiao.com\"],\"block\":true}},\"report\":{\"body\":{\"singleKey\":\"report\",\"version\":\"1.0.2\",\"createdAt\":\"2025-05-29T12:26:32.000Z\",\"latest\":0,\"strategyKey\":\"report\",\"key\":\"report\",\"disabled\":false,\"condition\":\"true\",\"expression\":\"\\\"use strict\\\";\\nfunction main() {\\n  return true;\\n}\\n;return main(event);\"},\"config\":{\"bid\":\"toutiao_mp\"}}},\"execution\":{\"CONTENT_LOADED\":\"executeContentLoaded\"}})"
        },
        {
          "name": "__tea_cache_first_1231",
          "value": "1"
        },
        {
          "name": "SLARDARweb_login_sdk",
          "value": "{\"userId\":\"cffb1fcd-0fbe-f1ec-08f8-7cf7341c2e93\",\"deviceId\":\"7a137fcd-5498-44f7-8b49-7ebfb876c714\"}"
        },
        {
          "name": "xmst",
          "value": "cO0g--TUymy4zI4a25jkvxjabvMa5SWArkl_9HSWxD53TL_J9V-e5BbpqcU0l5zUQrEn5Zux9ufJIPf4o0Jfc1KRAThL4jvuvgdzLWtqO6PMmtlJV7459Q_FrJP9QniqvdhLwDmCwId3YWpfZnWaRZlFajgdEtbEQ5I="
        },
        {
          "name": "__garfishPreloadApp__",
          "value": "[{\"appName\":\"index\",\"count\":1}]"
        },
        {
          "name": "SLARDARtoutiao_mp",
          "value": "JTdCJTIydXNlcklkJTIyOiUyMmIyOTU4OTZlLTIzNTMtNDQ1My04YjRkLWMxZWJiODEyMzRlNCUyMiwlMjJkZXZpY2VJZCUyMjolMjJhMzAzNWJkZS1kZmUxLTRmZDUtYTgwZC1hMWRmYzAxMjYxNmElMjIsJTIyZXhwaXJlcyUyMjoxNzc0OTYzMTA5MzE2JTdE"
        },
        {
          "name": "home-page-secret",
          "value": "false"
        },
        {
          "name": "__tea_cache_refer_1231",
          "value": "{\"refer_key\":\"https://mp.toutiao.com/profile_v4/index\",\"refer_title\":\"头条号\",\"refer_manual_key\":\"\"}"
        },
        {
          "name": "GARR_CONSOLE_LOGS",
          "value": "[{\"type\":\"log\",\"time\":\"2025-12-31 21:18\",\"module\":\"index\",\"tab\":\"\",\"msg\":\"beforeLoad,basename:/profile_v4/index,asyncProviderTimeout:2000,domGetter:.garr-panel,sandbox:[object Object],beforeEval:function(t){window._babelPolyfill=void 0,e[t.name]&&(e[t.name].startEvalTime=Object(v.f)())},afterEval:function(t){if(e[t.name]&&e[t.name].startEvalTime){if(window.location.pathname.indexOf(t.activeWhen)!==R.length)return;Object(v.c)(t.name,e[t.name].startEvalTime,\\\"garfish_app_eval_time\\\",e[t.name].type)}},beforeMount:function(t){document.querySelector(\\\".garr-panel .failed-wrapper\\\")&&i.a.unmountComponentAtNode(document.querySelector(\\\".garr-panel\\\")),e[t.name]&&(e[t.name].startMountTime=Object(v.f)())},afterMount:function(t){if(e[t.name]&&e[t.name].startMountTime){if(window.location.pathname.indexOf(t.activeWhen)!==R.length)return;window.Garfish.channel.emit(\\\"router-change-after-mount\\\"),Object(v.c)(t.name,e[t.name].startMountTime,\\\"garfish_app_mount_time\\\",e[t.name].type,!Object(_.e)(window,\\\"Garfish.routeManager.lastPath\\\")||!(Object(_.e)(window,\\\"Garfish.routeManager.lastPath\\\")||\\\"\\\").match(/profile_v\\\\d\\\\/([^\\\\/]+)/)),Object(v.c)(t.name,e[t.name].startLoadTime?e[t.name].startLoadTime:e[t.name].startMountTime,\\\"garfish_app_whole_time\\\",e[t.name].type),e[t.name].startLoadTime=0}},beforeUnmount:function(){},afterUnmount:function(){},errorMountApp:function(e){return Object(C.p)(e)},errorUnmountApp:function(e){return Object(C.p)(e)},protectVariable:xssNamespace,SSOSDK,MutationObserver,collectEvent,echarts,IMInstance,IMUserInfo,IMConversations,Garr,devToolsOptions,customLoader:function(e,t,n){var a=e.routes,o=e.redux,f=e.render,p=e.destroy;return M(void 0,void 0,void 0,(function(){var e,n,m,h;return L(this,(function(b){return e=function(e){var n=e.dom;n&&(-1!==t.entry.indexOf(\\\".html\\\")?i.a.unmountComponentAtNode(n.querySelector(\\\"#root\\\")||n):i.a.unmountComponentAtNode(n))},f?[2,{mount:f,unmount:p||e}]:(n=o?o.state:null,m=o?o.reducer:null,h=o?o.store:null,o&&!h&&(h=Object(v.b)(m,n)),[2,{mount:function(e){var n=e.basename,o=e.dom;window.Garfish.channel.emit(\\\"activate\\\",t.name);var f=r.a.createElement(k.b,{logStr:\\\"[模块] 模块渲染出错\\\"},r.a.createElement(c.a,{basename:R},r.a.createElement(l.a,null,function e(t,n,a){return void 0===a&&(a=[]),t.forEach((function(t){t.children&&e(t.children,n,a),t.redirectPath?a.push(r.a.createElement(u.a,{key:t.path,exact:!0,path:P(t.path,n),render:function(){return r.a.createElement(s.a,{to:S(S({},location),{pathname:t.redirectPath})})}})):t.component&&a.push(r.a.createElement(u.a,{key:t.path,exact:void 0===t.exact||t.exact,path:P(t.path,n),component:t.component}))})),a}(a||[],n.slice(R.length)),r.a.createElement(u.a,null,r.a.createElement(N,{basename:n.slice(R.length)})))));-1!==t.entry.indexOf(\\\".html\\\")?i.a.render(h?r.a.createElement(d.Provider,{store:h},f):r.a.createElement(r.a.Fragment,null,f),o.querySelector(\\\"#root\\\")||o):i.a.render(h?r.a.createElement(\\\"div\\\",{id:\\\"root\\\"},r.a.createElement(d.Provider,{store:h},f)):r.a.createElement(\\\"div\\\",{id:\\\"root\\\"},f),o)},unmount:e}])}))}))},name:index,activeWhen:/index,entry:https://lf6-cdn2-tos.bytegoofy.com/gftar/toutiao/pgcfe/pgc_web_v4_home/1.0.0.946/mp-static/index/index.html,cache:true,version:1.0.0.946,federationUrl:,rootPath:/profile_v4/index,props:[object Object],\"},{\"type\":\"log\",\"time\":\"2025-12-31 21:18\",\"module\":\"index\",\"tab\":\"\",\"msg\":\"menu show time: 2684\"},{\"type\":\"log\",\"time\":\"2025-12-31 21:18\",\"module\":\"index\",\"tab\":\"\",\"msg\":\"custom fmp: 2853\"},{\"type\":\"log\",\"time\":\"2025-12-31 21:18\",\"module\":\"index\",\"tab\":\"\",\"msg\":\"add called: [object Object]\"},{\"type\":\"log\",\"time\":\"2025-12-31 21:18\",\"module\":\"index\",\"tab\":\"\",\"msg\":\"common-guide-tip key is index-inspiration-tip, showed is: true\"},{\"type\":\"log\",\"time\":\"2025-12-31 21:18\",\"module\":\"index\",\"tab\":\"\",\"msg\":\"使用了fallback\"}]"
        },
        {
          "name": "web_runtime_switcher_latest",
          "value": "/*!\n* @byted/secsdk-strategy v1.0.29\n* (c) 2025\n*/\n!function(t){\"function\"==typeof define&&define.amd?define(t):t()}((function(){\"use strict\";var t,e,n,r=window.fetch,o=[],i=!1,a=function(t,e,n){[\"projectId\",\"env\",\"name\",\"sdkVersion\",\"decisionName\",\"strategyName\",\"strategyVersion\",\"functionName\",\"actionType\"].forEach((function(t){void 0===n[t]&&(n[t]=\"-\")}));var a=parseInt(e);a&&(o.push({name:t.name,tags:n,value:a,type:t.type}),i||(i=!0,setTimeout((function(){var t=JSON.stringify({values:o});o=[];if(!window.use(\"coreLoader\").customReportHost){try{r(\"https://security.zijieapi.com/api/metrics/emit\",{method:\"post\",body:t,mode:\"cors\",headers:{\"Content-Type\":\"application/json\"}}).catch((function(t){}))}catch(t){}i=!1}}),2e3)))};function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function s(t,e,n,r,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){s(i,r,o,a,c,\"next\",t)}function c(t){s(i,r,o,a,c,\"throw\",t)}a(void 0)}))}}function l(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,_(r.key),r)}}function f(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}function p(t,e){var n=\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(!n){if(Array.isArray(t)||(n=R(t))||e&&t&&\"number\"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var i,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function d(t,e,n){return(e=_(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v(){return v=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v.apply(null,arguments)}function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function m(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function g(){g=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i=\"function\"==typeof Symbol?Symbol:{},a=i.iterator||\"@@iterator\",c=i.asyncIterator||\"@@asyncIterator\",s=i.toStringTag||\"@@toStringTag\";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},\"\")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof E?e:E,a=Object.create(i.prototype),c=new D(r||[]);return o(a,\"_invoke\",{value:I(t,n,c)}),a}function h(t,e,n){try{return{type:\"normal\",arg:t.call(e,n)}}catch(t){return{type:\"throw\",arg:t}}}e.wrap=l;var f=\"suspendedStart\",p=\"suspendedYield\",d=\"executing\",v=\"completed\",y={};function E(){}function m(){}function S(){}var _={};u(_,a,(function(){return this}));var O=Object.getPrototypeOf,R=O&&O(O(L([])));R&&R!==n&&r.call(R,a)&&(_=R);var T=S.prototype=E.prototype=Object.create(_);function N(t){[\"next\",\"throw\",\"return\"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,c){var s=h(t[o],t,i);if(\"throw\"!==s.type){var u=s.arg,l=u.value;return l&&\"object\"==typeof l&&r.call(l,\"__await\")?e.resolve(l.__await).then((function(t){n(\"next\",t,a,c)}),(function(t){n(\"throw\",t,a,c)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n(\"throw\",t,a,c)}))}c(s.arg)}var i;o(this,\"_invoke\",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function I(e,n,r){var o=f;return function(i,a){if(o===d)throw Error(\"Generator is already running\");if(o===v){if(\"throw\"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var s=A(c,r);if(s){if(s===y)continue;return s}}if(\"next\"===r.method)r.sent=r._sent=r.arg;else if(\"throw\"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else\"return\"===r.method&&r.abrupt(\"return\",r.arg);o=d;var u=h(e,n,r);if(\"normal\"===u.type){if(o=r.done?v:p,u.arg===y)continue;return{value:u.arg,done:r.done}}\"throw\"===u.type&&(o=v,r.method=\"throw\",r.arg=u.arg)}}}function A(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,\"throw\"===r&&e.iterator.return&&(n.method=\"return\",n.arg=t,A(e,n),\"throw\"===n.method)||\"return\"!==r&&(n.method=\"throw\",n.arg=new TypeError(\"The iterator does not provide a '\"+r+\"' method\")),y;var i=h(o,e.iterator,n.arg);if(\"throw\"===i.type)return n.method=\"throw\",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,\"return\"!==n.method&&(n.method=\"next\",n.arg=t),n.delegate=null,y):a:(n.method=\"throw\",n.arg=new TypeError(\"iterator result is not an object\"),n.delegate=null,y)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type=\"normal\",delete e.arg,t.completion=e}function D(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(w,this),this.reset(!0)}function L(e){if(e||\"\"===e){var n=e[a];if(n)return n.call(e);if(\"function\"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(typeof e+\" is not iterable\")}return m.prototype=S,o(T,\"constructor\",{value:S,configurable:!0}),o(S,\"constructor\",{value:m,configurable:!0}),m.displayName=u(S,s,\"GeneratorFunction\"),e.isGeneratorFunction=function(t){var e=\"function\"==typeof t&&t.constructor;return!!e&&(e===m||\"GeneratorFunction\"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,S):(t.__proto__=S,u(t,s,\"GeneratorFunction\")),t.prototype=Object.create(T),t},e.awrap=function(t){return{__await:t}},N(b.prototype),u(b.prototype,c,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new b(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},N(T),u(T,s,\"Generator\"),u(T,a,(function(){return this})),u(T,\"toString\",(function(){return\"[object Generator]\"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)\"t\"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(\"throw\"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type=\"throw\",c.arg=e,n.next=r,o&&(n.method=\"next\",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if(\"root\"===a.tryLoc)return o(\"end\");if(a.tryLoc<=this.prev){var s=r.call(a,\"catchLoc\"),u=r.call(a,\"finallyLoc\");if(s&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error(\"try statement without catch or finally\");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break}}i&&(\"break\"===t||\"continue\"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method=\"next\",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if(\"throw\"===r.type){var o=r.arg;C(n)}return o}}throw Error(\"illegal catch attempt\")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},\"next\"===this.method&&(this.arg=t),y}},e}function S(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||R(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function _(t){var e=function(t,e){if(\"object\"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=typeof r)return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==typeof e?e:e+\"\"}function O(t){return O=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},O(t)}function R(t,e){if(t){if(\"string\"==typeof t)return c(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}!function(t){t.API_LOCALSTORAGE_SET=\"API_LOCALSTORAGE_SET\",t.API_LOCALSTORAGE_GET=\"API_LOCALSTORAGE_GET\",t.API_SESSIONSTORAGE_SET=\"API_SESSIONSTORAGE_SET\",t.API_SESSIONSTORAGE_GET=\"API_SESSIONSTORAGE_GET\",t.GEOLOCATION_CURRENT_POSITION=\"GEOLOCATION_CURRENT_POSITION\",t.GEOLOCATION_WATCH_POSITION=\"GEOLOCATION_WATCH_POSITION\",t.CLIPBOARD_WRITE_TEXT=\"CLIPBOARD_WRITE_TEXT\",t.MEDIADEVICES_GETUSERMEDIA=\"MEDIADEVICES_GETUSERMEDIA\",t.INDEXDB_ADD=\"INDEXDB_ADD\",t.INDEXDB_PUT=\"INDEXDB_PUT\",t.INDEXDB_UPDATE=\"INDEXDB_UPDATE\",t.LOCATION_REPLACE=\"LOCATION_REPLACE\",t.LOCATION_ASSIGN=\"LOCATION_ASSIGN\",t.WINDOW_OPEN=\"WINDOW_OPEN\",t.COOKIE_GET=\"COOKIE_GET\",t.COOKIE_SET=\"COOKIE_SET\",t.CLICK=\"CLICK\",t.COPY=\"COPY\",t.IMG_SRC_SET=\"IMG_SRC_SET\",t.IMG_SRC_GET=\"IMG_SRC_GET\",t.WINDOW_LOCATION_SET=\"WINDOW_LOCATION_SET\",t.WINDOW_LOCATION_HREF_SET=\"WINDOW_LOCATION_HREF_SET\",t.NAVIGATOR_SEND_BEACON=\"NAVIGATOR_SEND_BEACON\",t.REQUEST_FILE_STSTEM=\"REQUEST_FILE_STSTEM\",t.CLIPBOARD_READ_TEXT=\"CLIPBOARD_READ_TEXT\",t.EXCU_COMMAND=\"EXCUTE_COMMAND\",t.XHR_REQUEST_OPEN=\"XHR_REQUEST_OPEN\",t.XHR_REQUEST_SEND=\"XHR_REQUEST_SEND\",t.XHR_REQUEST_SETQEQUESTHEADER=\"XHR_REQUEST_SETQEQUESTHEADER\",t.XHR_RESPONSE_LOADEND=\"XHR_RESPONSE_LOADEND\",t.XHR_RESPONSE_READYSTATECHANGE=\"XHR_RESPONSE_READYSTATECHANGE\",t.FETCH_REQUEST=\"FETCH_REQUEST\",t.FETCH_RESPONSE=\"FETCH_RESPONSE\",t.FETCH_ADDHEADER=\"FETCH_ADDHEADER\",t.DOM_CONTENT_LOADED=\"DOM_CONTENT_LOADED\",t.MUTATION_OBSERVER=\"MUTATION_OBSERVER\",t.PERFORMANCE_OBSERVER=\"PERFORMANCE_OBSERVER\",t.SDK_REPORT_INIT=\"SDK_REPORT_INIT\",t.SDK_INIT=\"SDK_INIT\",t.CONTENT_LOADED=\"CONTENT_LOADED\",t.XHR_RESPONSE_ERROR=\"XHR_RESPONSE_ERROR\"}(t||(t={})),function(t){t.LOCALSTORAGE_SET=\"localstorage.setItem\",t.REPORT_CONFIG_SET=\"report_config.set\"}(e||(e={})),function(t){t.PASS=\"PASS\",t.REPORT_ONLY=\"REPORT_ONLY\",t.REWRITE=\"REWRITE\",t.BLOCK=\"BLOCK\",t.ERROR=\"ERROR\"}(n||(n={}));var T={errorNum:{name:\"resource.error_num\",type:\"delta_counter\"},latency:{name:\"resource.latency\",type:\"time\"}},N={errorNum:{name:\"decision.error_num\",type:\"delta_counter\"},latency:{name:\"decision.latency\",type:\"time\"}},b={errorNum:{name:\"strategy.error_num\",type:\"delta_counter\"},latency:{name:\"strategy.latency\",type:\"time\"}},I={errorNum:{name:\"function.error_num\",type:\"delta_counter\"},latency:{name:\"function.latency\",type:\"time\"}},A=[\"click\",\"mouseenter\",\"mouseleave\",\"mousedown\",\"mouseup\",\"focus\",\"blur\"],w=[\"change\"],C=function(){return f((function t(){l(this,t),this.secEventMap={},this.secEventMap={}}),[{key:\"addToEventMap\",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.secEventMap[t]||[];r.push({fn:e,once:n}),this.secEventMap[t]=r}},{key:\"on\",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.addToEventMap(t,e,r),function(){n.secEventMap[t]=n.secEventMap[t].filter((function(t){return e!==t.fn}))}}},{key:\"emit\",value:function(t,e){var n=t.name,r=this.secEventMap[n]||[];if(r.length){var o=this,i=[];r.forEach((function(n){!n.once&&i.push(n),n.fn.call(o,{event:t,action:e})})),this.secEventMap[n]=i}}},{key:\"off\",value:function(t,e){if(e){var n=this.secEventMap[t]||[];this.secEventMap[t]=n.filter((function(t){return t.fn!==e}))}else this.secEventMap[t]=[]}},{key:\"once\",value:function(t,e){this.addToEventMap(t,e,!0)}}])}(),D=new C,L=[\"module\",\"global\",\"require\"],P=Object.keys(window).filter((function(t){return!L.includes(t)})),j={module:{},global:{ActionType:n,EventEmitter:D},require:function(t){return j.module[t]||j.global[t]}};P.forEach((function(t){Object.defineProperty(j,t,{get:function(){console.warn(\"禁止直接访问宿主环境\")}})})),window.SDKRuntime=j;var M=function(t,e){j.global[t]=e};window.registToGlobal=M;window.registToModule=function(t,e){if(j.module[t]=e,\"strategy\"===t){var n=j.require(\"coreLoader\");if(!n)return;n.initReportStrategy()}};var k=function(t){return j.require(t)};window.use=k,window.useWebSecsdkApi=k;var x=function(t){try{return new Function(\"\".concat(t,\";\"))()}catch(t){}},G=function(t,e,n){window.SDKNativeWebApi?window.SDKNativeWebApi[t]={context:e,fn:n}:window.SDKNativeWebApi=d({},t,{context:e,fn:n});try{e.SDKNativeWebApi?e.SDKNativeWebApi[t]={context:e,fn:n}:e.SDKNativeWebApi={}}catch(t){console.warn(\"storageWebNativeApi 函数缓存失败\")}},H=function(t){var e;if(t)return null===(e=window.SDKNativeWebApi)||void 0===e?void 0:e[t]},U=function(e){var n=localStorage.getItem.bind(localStorage),r=H(t.API_LOCALSTORAGE_GET);return r&&(n=r.fn.bind(localStorage)),n(e)},X=function(e,n){var r=localStorage.setItem.bind(localStorage),o=H(t.API_LOCALSTORAGE_SET);o&&(r=o.fn.bind(localStorage)),r(e,n)},W=\"web_secsdk_runtime_cache\";function B(){var t=function(){for(var t=new Array(16),e=0,n=0;n<16;n++)3&n||(e=4294967296*Math.random()),t[n]=e>>>((3&n)<<3)&255;return t}();return t[6]=15&t[6]|64,t[8]=63&t[8]|128,function(t){for(var e=[],n=0;n<256;++n)e[n]=(n+256).toString(16).substr(1);var r=0,o=e;return[o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],\"-\",o[t[r++]],o[t[r++]],\"-\",o[t[r++]],o[t[r++]],\"-\",o[t[r++]],o[t[r++]],\"-\",o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]]].join(\"\")}(t)}var Q=localStorage.getItem.bind(localStorage),F=\"web_runtime_security_uid\",q=H(t.API_LOCALSTORAGE_GET);q&&(Q=q.fn.bind(localStorage));var Y=Q(F);if(!Y||\"undefined\"===Y){Y=B(),document.cookie.includes(\"x-web-secsdk-uid\")||(document.cookie=\"x-web-secsdk-uid=\".concat(Y,\"; path=/;\"));var K=localStorage.setItem.bind(localStorage),V=H(t.API_LOCALSTORAGE_SET);V&&(K=V.fn.bind(localStorage)),K(F,Y)}var J,Z=new(function(){return f((function t(){l(this,t),this.uid=void 0}),[{key:\"loadUid\",value:function(){this.uid||(this.uid=Y)}},{key:\"setUid\",value:function(t){localStorage.removeItem(F),this.uid=t}},{key:\"getUid\",value:function(){return this.uid}}])}());d({},t.API_LOCALSTORAGE_SET,[\"text\"]);var z=(d(d(d(d(d(d(d(d(d(d(J={},t.API_LOCALSTORAGE_SET,\"localStorage.setItem\"),t.API_LOCALSTORAGE_GET,\"localStorage.getItem\"),t.API_SESSIONSTORAGE_SET,\"sessionStorage.setItem\"),t.API_SESSIONSTORAGE_GET,\"sessionStorage.getItem\"),t.GEOLOCATION_CURRENT_POSITION,\"Geolocation.prototype.getCurrentPosition\"),t.GEOLOCATION_WATCH_POSITION,\"Geolocation.prototype.watchPosition\"),t.CLIPBOARD_WRITE_TEXT,\"Clipboard.prototype.writeText\"),t.MEDIADEVICES_GETUSERMEDIA,\"MediaDevices.prototype.getUserMedia\"),t.INDEXDB_ADD,\"IDBObjectStore.prototype.add\"),t.INDEXDB_PUT,\"IDBObjectStore.prototype.put\"),d(d(d(d(d(d(d(d(d(d(J,t.INDEXDB_UPDATE,\"IDBCursor.prototype.update\"),t.NAVIGATOR_SEND_BEACON,\"Navigator.prototype.sendBeacon\"),t.REQUEST_FILE_STSTEM,\"requestFileSystem\"),t.CLIPBOARD_READ_TEXT,\"navigator.clipboard.readText\"),t.XHR_REQUEST_OPEN,\"XMLHttpRequest.prototype.open\"),t.XHR_REQUEST_SEND,\"XMLHttpRequest.prototype.send\"),t.XHR_RESPONSE_LOADEND,\"xhr.onloadend\"),t.XHR_RESPONSE_READYSTATECHANGE,\"xhr.onreadystatechange\"),t.XHR_RESPONSE_ERROR,\"xhr.onerror\"),t.FETCH_REQUEST,\"window.Request\"),d(d(d(d(d(d(d(d(d(d(J,t.FETCH_RESPONSE,\"window.Response\"),t.COOKIE_GET,\"document.cookie\"),t.COOKIE_SET,\"document.cookie\"),t.CLICK,\"click event\"),t.COPY,\"copy event\"),t.IMG_SRC_SET,\"HTMLImageElement.prototype.src\"),t.IMG_SRC_GET,\"HTMLImageElement.prototype.src\"),t.EXCU_COMMAND,\"document.execCommand\"),t.DOM_CONTENT_LOADED,\"DOMContentLoaded\"),t.MUTATION_OBSERVER,\"MutationObserver\"),d(d(d(J,t.PERFORMANCE_OBSERVER,\"PerformanceObserver\"),t.XHR_REQUEST_SETQEQUESTHEADER,\"XMLHttpRequest.prototype.setRequestHeader\"),t.FETCH_ADDHEADER,\"addHeader\"));d(d(d(d(d(d(d(d(d({},t.API_LOCALSTORAGE_SET,\"ApiStorageSet\"),t.API_LOCALSTORAGE_GET,\"ApiStorageGet\"),t.API_SESSIONSTORAGE_SET,\"ApiStorageSet\"),t.API_SESSIONSTORAGE_GET,\"ApiStorageGet\"),t.COPY,\"Copy\"),t.XHR_REQUEST_OPEN,\"XHRRequestOpen\"),t.XHR_REQUEST_SEND,\"XHRRequestSend\"),t.FETCH_REQUEST,\"FetchRequest\"),t.FETCH_RESPONSE,\"FetchResponse\");var $=new(function(){return f((function t(e,n){l(this,t),this.pid=void 0,this.uid=void 0,this.strategy={},this.pid=e,this.uid=n}),[{key:\"loadStrategyProps\",value:function(t){var e=window.use(\"strategy\");return Object.keys((null==e?void 0:e.strategy)||{}).reduce((function(n,r){return n[r]=e.strategy[r][t],n}),{})}},{key:\"loadStrategyExtensionTools\",value:function(){return this.loadStrategyProps(\"extensionTools\")}},{key:\"loadStrategyConfig\",value:function(t){return this.loadStrategyProps(\"config\")[t]}},{key:\"loadStrategyMap\",value:function(){return this.loadStrategyProps(\"body\")}},{key:\"loadStrategyGroup\",value:function(){var t=window.use(\"strategy\");return(null==t?void 0:t.event)||{}}}])}())(\"64\",\"1111\"),tt=window.fetch,et=window.navigator,nt=et.sendBeacon,rt=nt&&\"function\"==typeof nt,ot=1e4,it={bid:\"argus3\",region:\"cn\",timeInterval:2,maxSize:100,sampleRatio:{ratio:100}};function at(t){return\"function\"==typeof atob?atob(t):function(t){for(var e=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",n=\"\",r=0;r<t.length;){var o=e.indexOf(t.charAt(r++)),i=e.indexOf(t.charAt(r++)),a=e.indexOf(t.charAt(r++)),c=e.indexOf(t.charAt(r++)),s=o<<2|i>>4,u=(15&i)<<4|a>>2,l=(3&a)<<6|c;n+=String.fromCharCode(s),64!==a&&(n+=String.fromCharCode(u)),64!==c&&(n+=String.fromCharCode(l))}return n}(t)}var ct=function(){return f((function t(){l(this,t),this.prefix=void 0,this.curIndex=void 0,this.map=void 0,this.valueMap=void 0,this.hashCode=void 0,this.hashCodeMap=void 0,this.resultData=void 0,this.hashMap=void 0,this.prefix=\"\",this.curIndex=-1,this.map={},this.valueMap={};for(var e=[],n=0;n<10;n++)e.push(n+\"\");for(var r=0;r<26;r++)e.push(String.fromCharCode(65+r));for(var o=0;o<26;o++)e.push(String.fromCharCode(97+o));this.hashCode=e,this.hashCodeMap={};for(var i=0;i<this.hashCode.length;i++)this.hashCodeMap[this.hashCode[i]]=i}),[{key:\"incrementPrefix\",value:function(){if(0!==this.prefix.length){for(var t=this.prefix.split(\"\"),e=t.length-1,n=!0;e>=0;e--){if(t[e]!==this.hashCode[this.hashCode.length-1]){t[e]=this.hashCode[this.hashCodeMap[t[e]]+1],n=!1;break}t[e]=this.hashCode[0]}n&&(t[e]!==this.hashCode[this.hashCode.length-1]?t[e]=this.hashCode[this.hashCodeMap[t[e]]+1]:(t[e]=this.hashCode[0],t.unshift(this.hashCode[0]))),this.prefix=t.join(\"\")}else this.prefix=this.hashCode[0]}},{key:\"increment\",value:function(){this.curIndex===this.hashCode.length-1?(this.curIndex=0,this.incrementPrefix()):this.curIndex++;var t=this.hashCode[this.curIndex];return this.prefix+t}},{key:\"get\",value:function(t){return this.map[t]?this.map[t]:this.set(t)}},{key:\"getKey\",value:function(t){return this.valueMap[t]}},{key:\"set\",value:function(t){var e=this.increment();return this.map[t]=e,this.valueMap[e]=t,e}}])}(),st=function(){return f((function t(){l(this,t),this.hashMap=void 0,this.resultData=void 0,this.init()}),[{key:\"init\",value:function(){this.hashMap=new ct,this.resultData=[]}},{key:\"convertNodeSchema\",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(!t||[\"html\",\"body\"].includes(t.name)||0===n)return null;var r=[];return Object.keys(t).forEach((function(o){if(\"type\"!==o)if(\"children\"===o){var i=[];t[o].map((function(t){var r=e.convertNodeSchema(t,n-1);r&&i.push(r)})),r.push(\"[\".concat(i.join(\",\"),\"]\"))}else if(\"attrs\"===o){var a=[];Object.keys(t[o]).forEach((function(n){a.push(e.hashMap.get(n)),a.push(e.hashMap.get(t[o][n]))})),r.push(\"[\".concat(a.join(\",\"),\"]\"))}else\"type\"===o||\"name\"===o?r.push(e.hashMap.get(t[o])):r.push(t[o])})),\"[\".concat(r.join(\",\"),\"]\")}},{key:\"convertNodeListSchema\",value:function(t){var e=this,n=[];t.map((function(t){var r=e.convertNodeSchema(t);r&&n.push(r)})),this.resultData.push(\"[\".concat(n.join(\",\"),\"]\"))}},{key:\"convertEventSchema\",value:function(t){var e=this,n=[];return Object.keys(t).forEach((function(r){if(\"target\"===r){var o=e.convertNodeSchema(t[r]);n.push(o)}else if(\"axis\"===r){var i=[];Object.keys(t[r]).forEach((function(e){i.push(t[r][e])})),n.push(\"[\".concat(i.join(\",\"),\"]\"))}else n.push(e.hashMap.get(t[r]))})),\"[\".concat(n.join(\",\"),\"]\")}},{key:\"convertEventListSchema\",value:function(t){var e=this,n=[];t.map((function(t){var r=e.convertEventSchema(t);r&&n.push(r)})),this.resultData.push(\"[\".concat(n.join(\",\"),\"]\"))}},{key:\"convertRequestSchema\",value:function(t){var e=this,n=[];return Object.keys(t).forEach((function(r){if(\"query\"===r){var o=[];Object.keys(t[r]).forEach((function(t){o.push(e.hashMap.get(t))})),n.push(\"[\".concat(o.join(\",\"),\"]\"))}else if(\"header\"===r){var i=[];Object.keys(t[r]).forEach((function(n){i.push(e.hashMap.get(n)),i.push(t[r][n])})),n.push(\"[\".concat(i.join(\",\"),\"]\"))}else n.push(e.hashMap.get(t[r]))})),\"[\".concat(n.join(\",\"),\"]\")}},{key:\"convertRequestListSchema\",value:function(t){var e=this,n=[];t.map((function(t){var r=e.convertRequestSchema(t);r&&n.push(r)})),this.resultData.push(\"[\".concat(n.join(\",\"),\"]\"))}},{key:\"getResult\",value:function(){var t=this.resultData.join(\",\"),e=\"[\".concat(Object.values(this.hashMap.valueMap).map((function(t){return\"'\".concat(t,\"'\")})).join(\",\"),\"]\");return this.init(),{hashMap:e,version:\"1\",payload:t}}}])}(),ut=[\"context\",\"__secReqHeaders\"],lt=[\"eventOverwrite\"],ht=function(){return f((function t(e){var n=this;l(this,t),this.sampleDataQueue=[],this.config=it,this.isReporting=!1,this.configInited=!1,this.getSlardarBid=function(){return n.config.bid||\"argus3\"},this.getConfigRegion=function(){var t=k(\"coreLoader\");return t?t.customReportHost?\"custom\":t.host.includes(\"sf\")?\"sg\":\"cn\":(n.config.region||\"cn\").toLowerCase()},this.gerReportUrl=function(){var t={cn:at(\"aHR0cHM6Ly9tb24uemlqaWVhcGkuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9\"),boe:at(\"aHR0cHM6Ly9tb24uemlqaWVhcGkuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9\"),ttp:at(\"aHR0cHM6Ly9tb24udXMudGlrdG9rdi5jb20vbW9uaXRvcl9icm93c2VyL2NvbGxlY3QvYmF0Y2gvc2VjdXJpdHkvP2JpZD0=\"),va:at(\"aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9\"),maliva:at(\"aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9\"),sg:at(\"aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9\"),boei18n:at(\"aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9\")};if(\"custom\"===n.getConfigRegion()){var e=k(\"coreLoader\");return\"https://\".concat(e.customReportHost,\"/monitor_browser/collect/batch/security/?bid=\")+n.getSlardarBid()}var r=t[n.getConfigRegion()];if(r)return r+n.getSlardarBid()},this.setConfig(e)}),[{key:\"report\",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"runtime_strategy\";Z.loadUid();var r=window.use(\"reportOptions\");this.configInited||(this.setConfig(r),this.configInited=!0);var o=t.event,i=t.action,a=t.fromStage,c=this.shouleAddToSampleQueue(t),s=(null==i?void 0:i.key)||o.pageUrl||window.location.href,u=s+a;if(null!=i&&i.once){var l=function(t){var e=U(W)||\"{}\";try{return JSON.parse(e)[t]}catch(t){return void console.warn(\"web_secsdk_runtime_cache set json parse error\")}}(i.strategyKey)||[];if(l.includes(u))return;c=!0,l.push(u),function(t,e){var n=U(W)||\"{}\";try{var r=JSON.parse(n);r[t]=e,X(W,JSON.stringify(r))}catch(t){return void console.warn(\"web_secsdk_runtime_cache get json parse error\")}}(i.strategyKey,l)}var h=v({},(function(t){if(null==t)throw new TypeError(\"Cannot destructure \"+t)}(o),o)),f=h.payload;f.context,f.__secReqHeaders;var p=m(f,ut);h.payload=p,i.eventOverwrite;var d=m(i,lt),y=Object.assign(this.constructNewDataWithPrifix(h,\"event\"),this.constructNewDataWithPrifix(d,\"action\"),i.eventOverwrite?this.constructNewDataWithPrifix({payload:null==i?void 0:i.eventOverwrite},\"event\"):{},{fromStage:a,documentURL:window.location.href,uId:Z.getUid(),sdkVersion:\"1.0.29\"}),E=Object.keys(y).reduce((function(t,e,n){return\"string\"==typeof y[e]&&(t[e]=y[e]),t}),{}),g=Object.keys(y).reduce((function(t,e,n){return\"number\"==typeof y[e]&&(t[e]=y[e]),t}),{}),S={age:Math.floor(Date.now()),type:n,url:s,body:{reportString:E,reportInt:g},\"user-agent\":(null===(e=window.navigator)||void 0===e?void 0:e.userAgent)||\"\"};(c||o.ignoreGlobalSample||i.ignoreGlobalSample)&&this.pushDataToQueue(S)}},{key:\"constructNewDataWithPrifix\",value:function(t,e){var n={};for(var r in t){var o=t[r],i=Object.prototype.toString.call(o).slice(8,-1);if(\"Array\"===i||\"Object\"===i||\"Arguments\"===i)try{o=JSON.stringify(o)}catch(t){}else\"Function\"!==i&&\"Symbol\"!==i||(o=String(o));n[\"\".concat(e,\"_\").concat(r)]=o}return n}},{key:\"pushDataToQueue\",value:function(t){this.sampleDataQueue.push(t),this.upload()}},{key:\"upload\",value:(e=u(g().mark((function t(){var e,n=this;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.gerReportUrl(),!this.isReporting&&e&&0!==this.sampleDataQueue.length){t.next=3;break}return t.abrupt(\"return\");case 3:this.isReporting=!0,setTimeout(u(g().mark((function t(){var r,o,i,a,c,s,u,l;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.config.maxSize,o=n.sampleDataQueue.slice(0,r),i=new st,o.forEach((function(t){t.body.reportString.uId=Z.getUid()})),a=o.filter((function(t){return!t.body.reportString.action_encode})),c=o.filter((function(t){return t.body.reportString.action_encode})),s=[],u=[],l=null,c.forEach((function(t){void 0!==t.body.reportString.action_payload&&(\"event\"===t.body.reportString.action_encode&&(s.push(JSON.parse(t.body.reportString.action_payload)),l=t),\"request\"===t.body.reportString.action_encode&&(u.push(JSON.parse(t.body.reportString.action_payload)),l=t))})),i.convertEventListSchema(s),i.convertRequestListSchema(u),l&&(l.body.reportString.action_payload=JSON.stringify(i.getResult()),delete l.body.reportString.event_payload,a.push(l)),n.sampleDataQueue=n.sampleDataQueue.slice(r),!rt){t.next=22;break}if(nt.call(et,e,JSON.stringify(a))){t.next=20;break}return console.log(\"「sendBecon」send send log report error\"),t.next=20,n.logReportByFetch(e,o);case 20:t.next=24;break;case 22:return t.next=24,n.logReportByFetch(e,o);case 24:n.isReporting=!1,n.upload();case 26:case\"end\":return t.stop()}}),t)}))),1e3*this.config.timeInterval);case 5:case\"end\":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:\"logReportByFetch\",value:(t=u(g().mark((function t(e,n){return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,tt(e,{method:\"post\",mode:\"cors\",body:JSON.stringify(n),headers:{\"Content-Type\":\"application/json\"}});case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(\"「fetch」send log report error\",t.t0),this.sampleDataQueue=n.concat(this.sampleDataQueue);case 9:case\"end\":return t.stop()}}),t,this,[[0,5]])}))),function(e,n){return t.apply(this,arguments)})},{key:\"shouleAddToSampleQueue\",value:function(t){var e=t.event,n=t.action,r=this.getMatchedRatio(e,n),o=\"object\"===O(r)?r.ratio:r;return o===ot||Math.floor(Math.random()*ot)<=o}},{key:\"setConfig\",value:function(t){t&&(\"Array\"===Object.prototype.toString.call(t.sampleRatio).slice(8,-1)&&(t.sampleRatio=this.sortSampleRatio(t.sampleRatio)),this.config=E(E({},this.config),t))}},{key:\"sortSampleRatio\",value:function(t){var e=function(t){var e=0;return t.actionType&&t.eventType?e=2:(t.actionType||t.eventType)&&(e=1),e};return t.sort((function(t,n){var r=e(t),o=e(n);return r>o?-1:r<o?1:0}))}},{key:\"getMatchedRatio\",value:function(t,e){var n=ot,r=this.config.sampleRatio;if(!r)return n;var o=t.name,i=e.type,a=Object.prototype.toString.call(r).slice(8,-1);if(\"Object\"===a)n=this.matchRatioRule(o,i,r).ratio;else if(\"Array\"===a)for(var c=r,s=0,u=c.length;s<u;s++){var l=this.matchRatioRule(o,i,c[s]),h=l.matched,f=l.ratio;if(h){n=f;break}}return r}},{key:\"matchRatioRule\",value:function(t,e,n){var r={ratio:ot,matched:!1},o=n.ratio,i=n.eventType,a=n.actionType;return(i&&a&&t===i&&e===a||i&&t===i||a&&e===a||!i&&!a)&&(r={ratio:o,matched:!0}),r}}]);var t,e}(),ft=new ht,pt=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.action,r=t.event;ft.report(t),e&&D.emit(r,n)},dt=function(t){var e=t.eventName,r=t.payload,o=t.reason,i=t.strategyKey,a=t.errorStack,c=t.fromStage,s={name:e,source:z[e],timestamp:Date.now(),pageUrl:location.href,payload:r},u={type:n.ERROR,strategyKey:i,reason:o,payload:a};pt({event:s,action:u,fromStage:c})},vt=function(){return f((function t(e,n){l(this,t),this.eventName=void 0,this.payload=void 0,this.eventName=e,this.payload=n}),[{key:\"registEvent\",value:function(){return{name:this.eventName,source:z[this.eventName],timestamp:Date.now(),log_id:B(),pageUrl:location.href,payload:this.payload}}},{key:\"selection\",value:function(){var t=$.loadStrategyMap(),e=$.loadStrategyGroup()||{};return((null==e?void 0:e[this.eventName])||[]).map((function(e){return null==t?void 0:t[e]})).filter((function(t){return Boolean(t)})).map((function(t){return E(E({},t),{},{condition:t.condition&&\"string\"==typeof t.condition?new Function(\"event\",t.condition):t.condition,expression:t.expression&&\"string\"==typeof t.expression?new Function(\"event\",t.expression):t.expression})}))}},{key:\"compute\",value:function(t,e){var r=t.key,o=t.condition,i=t.expression,a=t.version;if(!o||\"function\"!=typeof o||o(e)){var c=$.loadStrategyConfig(r);if(i&&\"function\"==typeof i)try{var s=i(e);return s.strategyKey=r,s.strategyVersion=a,s.type!==n.PASS&&pt({event:e,action:s,fromStage:\"compute\"},!1),s}catch(t){return console.log(t),dt({eventName:this.eventName,strategyKey:r,reason:\"策略计算异常\",payload:e.payload,errorStack:{config:c,name:t.name,message:t.message,detail:t.detail},fromStage:\"compute\"}),{type:n.PASS,reason:\"\".concat(r,\"策略执行异常\")}}}}},{key:\"execute\",value:function(t,e){var r,o,i=[],a=t.filter((function(t){return t.type===n.BLOCK})),c=t.filter((function(t){return t.type===n.REWRITE})),s=t.filter((function(t){return t.type===n.REPORT_ONLY})),u=t.filter((function(t){return t.type===n.PASS}));(a.length>0?i=[a[0]]:c.length>0?i=c:u.length>0&&(i=[u[0]]),s.length>0)&&(r=i).push.apply(r,S(s));i=i.filter((function(t){return t}));for(var l=!1,h=k(\"coreLoader\"),f=0;f<i.length;f++){var p=k(\"strategy\").execution,d=i[f],v=$.loadStrategyConfig(d.strategyKey),y={decisionName:this.eventName,strategyName:d.strategyKey,strategyVersion:d.strategyVersion,actionType:d.type,functionName:p[this.eventName]};try{if(!p[this.eventName])continue;var E=performance.now();if(o=k(p[this.eventName])(e,d,f===i.length-1),d.type!==n.PASS){d.report&&pt({event:e,action:d,fromStage:\"execute\"},!1);var m=performance.now();null==h||h.emitMetrics(I.latency,m-E,y)}}catch(t){null==h||h.emitMetrics(I.errorNum,1,y),l=f===i.length-1,dt({eventName:this.eventName,strategyKey:d.strategyKey,reason:\"策略执行异常\",payload:e.payload,errorStack:{config:v,name:t.name,message:t.message,detail:t.detail},fromStage:\"execute\"})}}var g=e.payload,_=g.originFn,O=g.args,R=g.context;return(0===i.length||l)&&_?_.apply(R,O):o}},{key:\"run\",value:function(){var t,e=this.registEvent(),n=this.selection(),r=[],o=k(\"coreLoader\"),i=p(n);try{for(i.s();!(t=i.n()).done;){var a=t.value,c={decisionName:this.eventName,strategyName:a.key,strategyVersion:a.version,actionType:\"\"};try{var s=performance.now(),u=this.compute(a,e);c.actionType=null==u?void 0:u.type,u&&r.push(u);var l=performance.now();null==o||o.emitMetrics(b.latency,l-s,c)}catch(t){null==o||o.emitMetrics(b.errorNum,1,c)}}}catch(t){i.e(t)}finally{i.f()}return this.execute(r,e)}}])}(),yt=function(t,e){if(0===e)return t;var n=null;return function(){var r=arguments,o=this;n||(n=setTimeout((function(){t.apply(o,r),n=null}),e))}},Et=function(e,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(!n||n.fn){if(!n){var i={handle:function(){}};n={object:i,fn:i.handle,fnName:\"handle\"}}var a=n,c=a.object,s=a.fn,u=a.fnName;return G(e,c,s),u&&(c[u]=yt(l,o)),yt(l,o)}function l(){var n=this,o=[];for(var i in arguments)o.push(arguments[i]);if((this===sessionStorage&&u&&(e=\"getItem\"===u?t.API_SESSIONSTORAGE_GET:t.API_SESSIONSTORAGE_SET),this===localStorage&&u&&(e=\"getItem\"===u?t.API_LOCALSTORAGE_GET:t.API_LOCALSTORAGE_SET),e===t.PERFORMANCE_OBSERVER&&o[0])&&!o[0].getEntries().filter((function(t){if(t instanceof PerformanceResourceTiming){var e=t.name;if(!e)return!0;var n=ft.gerReportUrl();try{var r=new URL(e);return!n.startsWith(\"\".concat(r.protocol,\"//\").concat(r.host).concat(r.pathname))}catch(t){return!1}}return!0})).length)return;var a=r&&r.apply(n,o)||{},c=Object.assign({context:n,args:o,originFn:s},a),l=k(\"coreLoader\");try{var h=performance.now(),f=new vt(e,c).run(),p=performance.now();return null==l||l.emitMetrics(N.latency,p-h,{decisionName:e}),f}catch(t){return null==l||l.emitMetrics(N.errorNum,1,{decisionName:e}),dt({eventName:e,payload:c,reason:\"策略引擎执行异常\",errorStack:t,fromStage:\"select\"}),s.apply(n,o)}}},mt=function(t,e,n){for(var r=e.split(\".\"),o=0,i=[window];o<i.length;o++){var a,c=i[o],s=r[r.length-1],u=c,l=p(r);try{for(l.s();!(a=l.n()).done;){var h=a.value;if(u=c,!(c=c[h]))return}}catch(t){l.e(t)}finally{l.f()}try{Et(t,{object:u,fn:c,fnName:s},n)}catch(t){console.error(\"createAspectByPath error\",t)}}};mt(t.API_LOCALSTORAGE_SET,\"Storage.prototype.setItem\",(function(t,e){return{key:t,value:e}})),mt(t.API_LOCALSTORAGE_GET,\"Storage.prototype.getItem\",(function(t){return{key:t}}));var gt=function(t){var e=t.split(\".\"),n=window;return e.every((function(t){return n=n[t],Boolean(n)}))};gt(\"Clipboard\")&&(mt(t.CLIPBOARD_WRITE_TEXT,\"Clipboard.prototype.write\",(function(){return{}})),mt(t.CLIPBOARD_READ_TEXT,\"Clipboard.prototype.read\",(function(){return{}})),mt(t.CLIPBOARD_WRITE_TEXT,\"Clipboard.prototype.writeText\",(function(){return{}})),mt(t.CLIPBOARD_READ_TEXT,\"Clipboard.prototype.readText\",(function(){return{}}))),gt(\"document.execCommand\")&&mt(t.EXCU_COMMAND,\"document.execCommand\",(function(){return{}})),mt(t.REQUEST_FILE_STSTEM,\"requestFileSystem\",(function(){return{}})),mt(t.GEOLOCATION_CURRENT_POSITION,\"Geolocation.prototype.getCurrentPosition\",(function(){return{}})),mt(t.GEOLOCATION_WATCH_POSITION,\"Geolocation.prototype.watchPosition\",(function(){return{}})),mt(t.INDEXDB_ADD,\"IDBObjectStore.prototype.add\",(function(){return{}})),mt(t.INDEXDB_PUT,\"IDBObjectStore.prototype.put\",(function(){return{}})),mt(t.INDEXDB_UPDATE,\"IDBCursor.prototype.update\",(function(){return{}})),mt(t.MEDIADEVICES_GETUSERMEDIA,\"MediaDevices.prototype.getUserMedia\",(function(){return{}})),mt(t.NAVIGATOR_SEND_BEACON,\"Navigator.prototype.sendBeacon\",(function(){return{}})),mt(t.WINDOW_OPEN,\"window.open\",(function(){return{}})),G(t.FETCH_REQUEST,window,tt);var St=\"Request\"in window,_t=\"Headers\"in window;function Ot(t){if(t.nodeType===Node.TEXT_NODE)return null;if(t.nodeType===Node.ELEMENT_NODE){var e={};Array.from(t.attributes).forEach((function(t){var n=t.name,r=t.value;e[n]=r}));var n=[];return Array.from(t.childNodes).forEach((function(t){var e=Ot(t);e&&n.push(e)})),d(d(d({},\"name\",t.tagName.toLowerCase()),\"attrs\",e),\"children\",n)}return null}window.fetch=function(e,n){var r={onRequest:function(e,n){return tt.apply(window,[e,n]).then((function(e){return 200===e.status&&Et(t.FETCH_RESPONSE,{object:r,fn:r.onResponse,fnName:\"onResponse\"},(function(t){return{_headers:function(t){for(var e,n=t.headers.entries(),r={};(e=n.next())&&(e.value&&(r[e.value[0]]=e.value[1]),!e.done););return r}(t),response:t}})),r.onResponse.apply(window,[e])}))},onResponse:function(t){return t}};return Et(t.FETCH_REQUEST,{object:r,fn:r.onRequest,fnName:\"onRequest\"},(function(e,n){var r,o=\"\",i=\"\",a=n&&n.body;St&&e instanceof Request?(o=e.url,i=e.method,r=e.headers.set.bind(e.headers)):(o=e,i=n&&n.method?n.method:\"GET\",(n=n||{}).headers=n.headers||{},r=_t&&n.headers instanceof Headers?n.headers.set.bind(n.headers):Array.isArray(n.headers)?function(t,e){var r,o,i=!1;((null===(r=n)||void 0===r?void 0:r.headers).forEach((function(n){n[0]===t&&(n[1]=e,i=!0)})),i)||(null===(o=n)||void 0===o?void 0:o.headers).push([t,e])}:function(t,e){var r,o,i=(null===(r=n)||void 0===r?void 0:r.headers)[t];(null===(o=n)||void 0===o?void 0:o.headers)[t]=i?\"\".concat(i,\", \").concat(e):e});var c={url:o,method:i,body:a,init:n,input:e,__secReqHeaders:{},addHeader:r};return c.addHeader=Et(t.FETCH_ADDHEADER,{object:{},fn:r,fnName:\"addHeader\"},(function(t,e){return e&&t?(void 0===c.__secReqHeaders[t]?c.__secReqHeaders[t]=e:c.__secReqHeaders[t]=\"\".concat(c.__secReqHeaders[t],\", \").concat(e),{}):{}})),c})),r.onRequest(e,n)},mt(t.XHR_REQUEST_OPEN,\"XMLHttpRequest.prototype.open\",(function(t,e,n){var r=this;r._xhr_open_args||(r._xhr_open_args={}),Object.assign(r._xhr_open_args,{method:t,url:e,isAsync:n})})),mt(t.XHR_REQUEST_SETQEQUESTHEADER,\"XMLHttpRequest.prototype.setRequestHeader\",(function(t,e){if(!e||!t)return{};var n=this;return n._xhr_headers=n.__secReqHeaders=n.__secReqHeaders||{},void 0===n.__secReqHeaders[t]?n.__secReqHeaders[t]=e:n.__secReqHeaders[t]=\"\".concat(n.__secReqHeaders[t],\", \").concat(e),{}})),mt(t.XHR_REQUEST_SEND,\"XMLHttpRequest.prototype.send\",(function(){var e=this,n=function(n){var r=n.toUpperCase(),o=\"on\".concat(n),i=e[o];i&&(e[o]=function(){if(e.readyState===XMLHttpRequest.DONE&&200===e.status){var n=Et(t[\"XHR_RESPONSE_\".concat(r)],{object:e,fn:i,fnName:null},(function(){}));return null==n?void 0:n.apply(e,arguments)}i&&i.apply(e,arguments)})};n(\"readystatechange\"),n(\"loadend\")})),function(){var t,e=p(A);try{var n=function(){var e=t.value,n=Et(e.toUpperCase(),null,(function(t){return{reportData:{name:e,target:Ot(t.target),timestamp:Date.now(),axis:{x:t.clientX+t.scrollX,y:t.clientY+t.scrollY},payload:t.target.value}}}),0);window.addEventListener(e,n)};for(e.s();!(t=e.n()).done;)n()}catch(t){e.e(t)}finally{e.f()}var r,o=p(w);try{var i=function(){var t=r.value,e=Et(t.toUpperCase(),null,(function(e){return{reportData:{name:t,target:Ot(e.target),timestamp:Date.now(),axis:{x:e.clientX+e.scrollX,y:e.clientY+e.scrollY},payload:e.target.value}}}),100);window.addEventListener(t,e)};for(o.s();!(r=o.n()).done;)i()}catch(t){o.e(t)}finally{o.f()}}();var Rt={attributes:!1,childList:!0,subtree:!0},Tt=Et(t.MUTATION_OBSERVER,null,(function(){return{}}));window.addEventListener(\"DOMContentLoaded\",(function(){var t=document.body;gt(\"MutationObserver\")&&new MutationObserver(Tt).observe(t,Rt)}));var Nt=Et(t.PERFORMANCE_OBSERVER,null,(function(){return{}}));gt(\"PerformanceObserver\")&&new PerformanceObserver(Nt).observe({entryTypes:[\"element\",\"event\",\"navigation\",\"resource\"]});var bt=function(e,n,r,o,i){var c=H(t.FETCH_REQUEST),s=window.fetch;c&&(s=c.fn.bind(c.context));var u=U(\"web_security_runtime_cache_\".concat(e)),l=\"\".concat(e),h=l.includes(\"gray\")?\"gray\":\"online\";if(u)x(u);else{var f=performance.now();i?document.writeln('<script nonce=\"'.concat(i,'\" src=\"').concat(l,'\"><\\/script>')):document.writeln('<script src=\"'.concat(l,'\"><\\/script>'));var p=performance.now();a(T.latency,p-f,{projectId:r,env:h,name:n,sdkVersion:o})}var d=performance.now();s(e).then((function(t){return t.text()})).then((function(t){var e=performance.now();a(T.latency,e-d,{projectId:r,env:h,name:n,sdkVersion:o}),X(\"web_security_runtime_cache_\".concat(l),t);try{x(t)}catch(t){}})).catch((function(){a(T.errorNum,1,{projectId:r,env:h,name:n,sdkVersion:o})}))};new(function(){return f((function t(){var e,n;l(this,t),this.projectId=void 0,this.nonce=void 0,this.version=\"1.0.29\",this.host=\"lf-security.bytegoofy.com\",this.customReportHost=void 0,this.reporter=void 0,this.isLocal=!1,this.isGray=!1,this.uid=\"\";var r=null===(e=document.currentScript)||void 0===e?void 0:e.getAttribute(\"src\");if(r){this.emitInitReport();var o=document.currentScript.getAttribute(\"project-id\"),i=document.currentScript.getAttribute(\"custom-report-host\"),a=localStorage.getItem(\"web_runtime_switcher_isgray\");if(this.isGray=\"true\"===a,this.customReportHost=i,this.nonce=(null===(n=document.currentScript)||void 0===n?void 0:n.nonce)||this.nonce,r.includes(\"./dist\"))this.isLocal=!0;else{var c=new URL(r,window.location.href).host;this.host=c}this.projectId=o,this.reporter=ft,M(\"coreLoader\",this),r.includes(\"runtime_bundler\")||r.includes(\"test\")||this.init()}}),[{key:\"init\",value:function(){Z.loadUid(),this.uid=Z.getUid();var t=this.isGray?\"-gray\":\"\";this.loadConfigModule(t),this.initOriginModule()}},{key:\"setUid\",value:function(t){this.uid=t,Z.setUid(t)}},{key:\"emitInitReport\",value:function(){ft.report({event:{name:t.SDK_REPORT_INIT,source:e.REPORT_CONFIG_SET,pageUrl:window.location.href,payload:{},timestamp:Date.now()},action:{type:n.REPORT_ONLY,payload:{}}})}},{key:\"initReportStrategy\",value:function(){var e=k(\"strategy\");if(e.strategy.report){var n=e.strategy.report;ft.setConfig(n.config),this.emitInitReport();try{new vt(t.SDK_INIT,{}).run()}catch(e){dt({eventName:t.SDK_INIT,payload:{},reason:\"策略引擎执行异常\",errorStack:e,fromStage:\"select\"})}setTimeout((function(){try{new vt(t.CONTENT_LOADED,{}).run()}catch(e){dt({eventName:t.CONTENT_LOADED,payload:{},reason:\"策略引擎执行异常\",errorStack:e,fromStage:\"select\"})}}),3e3)}}},{key:\"emitMetrics\",value:function(t,e,n){var r,o=k(\"globalConfig\");if(o&&null!=o&&null!==(r=o.strategy)&&void 0!==r&&r.monitor){var i=o.strategy.monitor.config.sampleRatio,c=void 0===i?0:i;1e4*Math.random()<c&&a(t,e,E(E({},n),{},{projectId:this.projectId,env:this.isGray?\"gray\":\"online\",sdkVersion:this.version}))}}},{key:\"initOriginModule\",value:function(){var t,e=k(\"globalConfig\");if(!e&&!this.isGray)return this.loadCommonModule(\"\"),void this.loadStrategyModule(\"\");var r=!1;if(null!=e&&null!==(t=e.strategy)&&void 0!==t&&t.hitGray){var o=e.strategy.hitGray;r=(\"string\"==typeof o.body.expression?x(o.body.expression):o.body.expression()).type===n.REWRITE}var i=this.isGray||r?\"-gray\":\"\";this.loadCommonModule(i),this.loadStrategyModule(i)}},{key:\"loadConfigModule\",value:function(t){if(this.isLocal)bt(\"./dist/config_\".concat(this.projectId,\".js\"),\"config\",this.projectId,this.version,this.nonce);else{if(this.host&&this.host.includes(\"sf\"))return void bt(\"https://\".concat(this.host,\"/obj/secsdk\").concat(t,\"-sg/config_\").concat(this.projectId,\".js\"),\"config\",this.projectId,this.version,this.nonce);bt(\"https://\".concat(this.host,\"/obj/security-secsdk\").concat(t,\"/config_\").concat(this.projectId,\".js\"),\"config\",this.projectId,this.version,this.nonce)}}},{key:\"loadCommonModule\",value:function(t){if(this.isLocal)bt(\"./dist/project_\".concat(this.projectId,\".js\"),\"project\",this.projectId,this.version,this.nonce);else{if(this.host&&this.host.includes(\"sf\"))return void bt(\"https://\".concat(this.host,\"/obj/secsdk\").concat(t,\"-sg/project_\").concat(this.projectId,\".js\"),\"config\",this.projectId,this.version,this.nonce);bt(\"https://\".concat(this.host,\"/obj/security-secsdk\").concat(t,\"/project_\").concat(this.projectId,\".js\"),\"project\",this.projectId,this.version,this.nonce)}}},{key:\"loadStrategyModule\",value:function(t){if(this.isLocal)bt(\"./dist/strategy_\".concat(this.projectId,\".js\"),\"strategy\",this.projectId,this.version,this.nonce);else{if(this.host&&this.host.includes(\"sf\"))return void bt(\"https://\".concat(this.host,\"/obj/secsdk\").concat(t,\"-sg/strategy_\").concat(this.projectId,\".js\"),\"config\",this.projectId,this.version,this.nonce);bt(\"https://\".concat(this.host,\"/obj/security-secsdk\").concat(t,\"/strategy_\").concat(this.projectId,\".js?v=1\"),\"strategy\",this.projectId,this.version,this.nonce)}}}])}())}));\n"
        },
        {
          "name": "web_runtime_switcher_isgray",
          "value": "false"
        },
        {
          "name": "__tea_sdk_ab_version_1231",
          "value": "{\"data\":{\"editor_pasting_img_upload_improve\":{\"val\":{\"strategy\":\"parallel\"},\"vid\":\"90122132\"},\"image_tuchong_rec\":{\"val\":{\"checkParagraph\":true,\"needNoImage\":false},\"vid\":\"90096321\"},\"merge_notify_im\":{\"val\":true,\"vid\":\"90117905\"},\"mp_aigc\":{\"val\":true,\"vid\":\"90127466\"}},\"uuid\":\"be_null\",\"timestamp\":1767187109656,\"ab_version_multilink\":[],\"ab_ext_version\":[],\"ab_version\":[]}"
        },
        {
          "name": "web_runtime_security_uid",
          "value": "85284026-78f5-44d4-9866-6ffef6e354d1"
        },
        {
          "name": "web_security_runtime_cache_https://lf-security.bytegoofy.com/obj/security-secsdk/project_53.js",
          "value": "window.registToModule('executeContentLoaded', function(a,b,c,d,e){\"use strict\";\nfunction main(event, action) {\n  const ActionType = window.use(\"ActionType\");\n  if (action.strategyKey === \"sriDomainCheck\") {\n    if (action.type === ActionType.REPORT_ONLY) {\n      setTimeout(() => {\n        const scriptList = document.querySelectorAll(\"script[src]\");\n        const linkList = document.querySelectorAll(\"link[href]\");\n        const scriptDomainList = Array.from(scriptList).map((i) => i.getAttribute(\"src\")).map((v) => new URL(v, window.location.href).host).filter((v) => v.indexOf(\".\") !== -1);\n        const linkDomainList = Array.from(linkList).map((i) => i.getAttribute(\"href\")).map((v) => new URL(v, window.location.href).host).filter((v) => v.indexOf(\".\") !== -1);\n        const domainList = scriptDomainList.concat(linkDomainList).map((v) => v.split(\".\").slice(1).join(\".\"));\n        const set = {};\n        for (const domain of domainList) {\n          set[domain] = 1;\n        }\n        const uniqDomainList = Object.keys(set);\n        const whiteList = [\"bytegoofy.com\", \"bytescm.com\", \"ibytedapm.com\", \"bytetos.com\", \"byteimg.com\", \"yhgfb-cn-static.com\", \"zijieapi.com\", \"douyinstatic.com\", \"douyinvod.com\", \"douyinpic.com\", \"snssdk.com\", \"douyin.com\", \"bytedance.com\", \"ibytedapm.com\", \"bytescm.com\", \"bytetos.com\", \"yhgfb-cn-static.com\", \"bytegoofy.com\", \"googletagmanager.com\", \"toutiaostatic.com\", \"bytednsdoc.com\", \"zijieapi.com\", \"toutiaoimg.com\", \"google-analytics.com\", \"douyinstatic.com\", \"toutiao.com\"];\n        const blackList = uniqDomainList.filter((v) => {\n          return whiteList.indexOf(v) === -1;\n        });\n        const setItem = window.SDKNativeWebApi[\"API_LOCALSTORAGE_SET\"] || localStorage.setItem.bind(localStorage);\n        const getItem = window.SDKNativeWebApi[\"API_LOCALSTORAGE_GET\"] || localStorage.getItem.bind(localStorage);\n        const storeKey = \"webStrategySriDomainCheck\";\n        const jsonStr = getItem(storeKey);\n        let currentBlackList = [];\n        let addedBlackList = [];\n        if (jsonStr) {\n          const _blackList = JSON.parse(jsonStr);\n          addedBlackList = blackList.filter((v) => {\n            return _blackList.indexOf(v) === -1;\n          });\n          currentBlackList = _blackList.concat(addedBlackList);\n        } else {\n          addedBlackList = blackList;\n          currentBlackList = blackList;\n        }\n        const scriptUrlList = Array.from(scriptList).map((i) => i.getAttribute(\"src\"));\n        const linkUrlList = Array.from(linkList).map((i) => i.getAttribute(\"href\"));\n        const reportUrlList = scriptUrlList.concat(linkUrlList).filter((v) => {\n          return addedBlackList.some((domain) => {\n            return v.includes(domain);\n          });\n        });\n        if (addedBlackList.length > 0) {\n          const reporter = window.use(\"coreLoader\").reporter;\n          action.payload.reportUrlList = reportUrlList;\n          reporter.report({ event, action, fromStage: \"excuteAsync\" });\n          setItem(storeKey, JSON.stringify(currentBlackList));\n        }\n      });\n    }\n  }\n  if (action.strategyKey === \"proxyFishing\") {\n    if (action.type === ActionType.BLOCK) {\n      setInterval(() => {\n        if (window.document.body) {\n          window.document.body.innerHTML = \"\";\n        }\n      }, 0);\n    }\n  }\n}\n; return typeof main !== 'undefined' && main(a,b,c,d,e);});"
        },
        {
          "name": "SLARDARpassport_account_api",
          "value": "{\"userId\":\"5a4c744a-ce01-aacd-e4a5-2784a60696d2\",\"deviceId\":\"8c0bc47a-f59a-45ed-b860-1acb527c8e0f\"}"
        },
        {
          "name": "__tea_cache_tokens_1231",
          "value": "{\"web_id\":\"7590010808269194761\",\"user_unique_id\":\"be_null\",\"timestamp\":1767187110132,\"_type_\":\"default\"}"
        }
      ]
    }
  ]
}