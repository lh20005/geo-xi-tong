# 手动测试指南

## 测试目标

验证文章生成任务列表页面的UI改进是否正确实现，包括新增列、删除列和数据一致性。

## 前置条件

1. 确保数据库中有以下测试数据：
   - 至少2个蒸馏历史记录（包含不同的关键词和AI提供商）
   - 至少1个转化目标记录
   - 至少2个文章生成任务（一个有转化目标，一个没有）

2. 启动应用：
   ```bash
   # 启动后端
   cd server && npm run dev
   
   # 启动前端
   cd client && npm run dev
   ```

## 测试用例

### 测试1: 验证新增列显示

**步骤：**
1. 访问文章生成任务页面
2. 观察表格列

**预期结果：**
- ✅ 在"状态"列后应显示"转化目标"列
- ✅ 在"转化目标"列后应显示"关键词"列
- ✅ 在"关键词"列后应显示"蒸馏结果"列

**验证要求：** Requirements 1.1, 2.1, 3.1

---

### 测试2: 验证转化目标显示

**步骤：**
1. 查看有转化目标的任务行
2. 查看没有转化目标的任务行

**预期结果：**
- ✅ 有转化目标的任务应显示公司名称（如"Test Company Ltd"）
- ✅ 没有转化目标的任务应显示"-"
- ✅ 鼠标悬停在转化目标单元格上应显示完整的公司名称（Tooltip）

**验证要求：** Requirements 1.2, 1.3, 1.5

---

### 测试3: 验证关键词显示

**步骤：**
1. 观察"关键词"列中的内容

**预期结果：**
- ✅ 关键词应以蓝色Tag形式显示
- ✅ 关键词内容应与蒸馏历史中的关键词一致
- ✅ 不同任务应显示不同的关键词

**验证要求：** Requirements 2.2, 2.4

---

### 测试4: 验证蒸馏结果（AI提供商）显示

**步骤：**
1. 观察"蒸馏结果"列中的内容
2. 查找使用DeepSeek的任务
3. 查找使用Gemini的任务

**预期结果：**
- ✅ DeepSeek提供商应显示为紫色Tag，文本为"DeepSeek"
- ✅ Gemini提供商应显示为绿色Tag，文本为"Gemini"
- ✅ 提供商信息应与蒸馏历史中的提供商一致

**验证要求：** Requirements 3.2, 3.3, 3.4

---

### 测试5: 验证删除的列

**步骤：**
1. 检查表格列标题

**预期结果：**
- ✅ 不应显示"更新时间"列
- ✅ 不应显示"错误信息"列

**验证要求：** Requirements 4.1, 4.2

---

### 测试6: 验证列宽和布局

**步骤：**
1. 在标准桌面屏幕（1920x1080或更大）上查看页面
2. 观察表格布局

**预期结果：**
- ✅ 所有列应合理分配宽度
- ✅ 不应出现水平滚动条（在标准桌面屏幕上）
- ✅ 表格应充分利用页面宽度
- ✅ 各列内容应清晰可读，不拥挤

**验证要求：** Requirements 5.1, 5.2

---

### 测试7: 验证数据一致性

**步骤：**
1. 在数据库中查询一个任务的详细信息：
   ```sql
   SELECT 
     gt.id,
     ct.company_name,
     d.keyword,
     d.provider
   FROM generation_tasks gt
   LEFT JOIN conversion_targets ct ON gt.conversion_target_id = ct.id
   INNER JOIN distillations d ON gt.distillation_id = d.id
   WHERE gt.id = [任务ID];
   ```
2. 在页面上找到对应的任务行
3. 比对数据

**预期结果：**
- ✅ 页面显示的转化目标名称应与数据库中的company_name一致
- ✅ 页面显示的关键词应与数据库中的keyword一致
- ✅ 页面显示的提供商应与数据库中的provider一致

**验证要求：** Requirements 6.2, 6.3

---

### 测试8: 验证响应式布局

**步骤：**
1. 缩小浏览器窗口宽度
2. 观察表格行为

**预期结果：**
- ✅ 当窗口宽度小于表格总宽度时，应出现水平滚动条
- ✅ "操作"列应固定在右侧
- ✅ 水平滚动时，"操作"列应保持可见

**验证要求：** Requirements 7.2, 7.3

---

## 测试结果记录

| 测试用例 | 状态 | 备注 |
|---------|------|------|
| 测试1: 新增列显示 | ⬜ 未测试 / ✅ 通过 / ❌ 失败 | |
| 测试2: 转化目标显示 | ⬜ 未测试 / ✅ 通过 / ❌ 失败 | |
| 测试3: 关键词显示 | ⬜ 未测试 / ✅ 通过 / ❌ 失败 | |
| 测试4: 蒸馏结果显示 | ⬜ 未测试 / ✅ 通过 / ❌ 失败 | |
| 测试5: 删除的列 | ⬜ 未测试 / ✅ 通过 / ❌ 失败 | |
| 测试6: 列宽和布局 | ⬜ 未测试 / ✅ 通过 / ❌ 失败 | |
| 测试7: 数据一致性 | ⬜ 未测试 / ✅ 通过 / ❌ 失败 | |
| 测试8: 响应式布局 | ⬜ 未测试 / ✅ 通过 / ❌ 失败 | |

## 问题报告

如果发现任何问题，请在此记录：

1. **问题描述：**
2. **重现步骤：**
3. **预期行为：**
4. **实际行为：**
5. **截图（如有）：**

---

## 测试完成确认

- [ ] 所有测试用例已执行
- [ ] 所有测试用例通过
- [ ] 已记录所有发现的问题
- [ ] 已验证数据一致性
- [ ] 已验证UI美观度

测试人员签名：________________  
测试日期：________________
