# 需求文档

## 简介

文章设置模块是一个用于管理文章生成提示词模板的功能。用户可以创建、查看、编辑和删除提示词模板，这些模板将在后续文章创作时被大模型使用，以生成符合特定要求的文章内容。该模块位于侧边栏"企业知识库"下方，提供历史记录管理和分页显示功能。

## 术语表

- **系统**: GEO优化系统
- **文章设置模块**: 用于管理文章生成提示词模板的功能模块
- **提示词**: 用于指导大模型生成文章的文本指令
- **文章设置记录**: 包含提示词和相关元数据的单条记录
- **用户**: 使用系统创建和管理文章设置的操作者
- **大模型**: 用于生成文章内容的AI服务

## 需求

### 需求 1

**用户故事:** 作为用户，我想要创建新的文章设置，以便为不同类型的文章定义生成规则

#### 验收标准

1. WHEN 用户点击"新建文章设置"按钮 THEN 系统应显示一个对话框
2. WHEN 对话框显示时 THEN 系统应提供输入字段用于输入提示词和设置名称
3. WHEN 用户提交有效的文章设置 THEN 系统应将设置保存到数据库并返回成功响应
4. WHEN 用户提交空的提示词 THEN 系统应阻止提交并显示验证错误消息
5. WHEN 文章设置创建成功 THEN 系统应关闭对话框并刷新列表显示新记录

### 需求 2

**用户故事:** 作为用户，我想要查看历史的文章设置记录，以便了解和重用之前创建的提示词模板

#### 验收标准

1. WHEN 用户访问文章设置页面 THEN 系统应显示文章设置记录列表
2. WHEN 显示记录列表时 THEN 系统应每页显示10条记录
3. WHEN 记录超过10条时 THEN 系统应提供分页控件用于导航
4. WHEN 显示每条记录时 THEN 系统应包含设置名称、提示词预览、创建时间和操作按钮
5. WHEN 记录列表为空时 THEN 系统应显示友好的空状态提示

### 需求 3

**用户故事:** 作为用户，我想要编辑现有的文章设置，以便更新或优化提示词内容

#### 验收标准

1. WHEN 用户点击记录的编辑按钮 THEN 系统应显示编辑对话框并预填充当前数据
2. WHEN 用户修改设置内容 THEN 系统应允许更新设置名称和提示词
3. WHEN 用户提交更新 THEN 系统应验证数据并保存到数据库
4. WHEN 更新成功 THEN 系统应关闭对话框并刷新列表显示更新后的记录
5. WHEN 用户取消编辑 THEN 系统应关闭对话框且不保存任何更改

### 需求 4

**用户故事:** 作为用户，我想要删除不再需要的文章设置，以便保持列表整洁

#### 验收标准

1. WHEN 用户点击删除按钮 THEN 系统应显示确认对话框
2. WHEN 用户确认删除 THEN 系统应从数据库中删除该记录
3. WHEN 删除成功 THEN 系统应刷新列表并显示成功消息
4. WHEN 用户取消删除 THEN 系统应关闭确认对话框且不删除记录
5. WHEN 删除操作失败 THEN 系统应显示错误消息并保持记录不变

### 需求 5

**用户故事:** 作为用户，我想要查看文章设置的完整详情，以便了解提示词的完整内容

#### 验收标准

1. WHEN 用户点击记录的查看按钮 THEN 系统应显示详情对话框
2. WHEN 详情对话框显示时 THEN 系统应展示完整的提示词内容和所有元数据
3. WHEN 提示词内容较长时 THEN 系统应提供滚动功能以查看全部内容
4. WHEN 用户关闭详情对话框 THEN 系统应返回到列表视图
5. WHEN 显示详情时 THEN 系统应保持内容的格式和可读性

### 需求 6

**用户故事:** 作为开发者，我想要系统提供RESTful API接口，以便前端可以与后端进行数据交互

#### 验收标准

1. WHEN API接收到创建请求 THEN 系统应验证输入数据并返回创建的记录
2. WHEN API接收到查询请求 THEN 系统应返回分页的文章设置列表
3. WHEN API接收到更新请求 THEN 系统应验证数据并更新指定记录
4. WHEN API接收到删除请求 THEN 系统应删除指定记录并返回成功状态
5. WHEN API遇到错误 THEN 系统应返回适当的HTTP状态码和错误消息

### 需求 7

**用户故事:** 作为用户，我想要在侧边栏中访问文章设置模块，以便快速导航到该功能

#### 验收标准

1. WHEN 用户查看侧边栏 THEN 系统应在"企业知识库"下方显示"文章设置"菜单项
2. WHEN 用户点击"文章设置"菜单项 THEN 系统应导航到文章设置页面
3. WHEN 用户在文章设置页面时 THEN 系统应高亮显示对应的菜单项
4. WHEN 菜单项显示时 THEN 系统应使用适当的图标以提高可识别性
5. WHEN 侧边栏渲染时 THEN 系统应保持与其他菜单项一致的样式

### 需求 8

**用户故事:** 作为系统管理员，我想要系统持久化存储文章设置数据，以便数据在系统重启后仍然可用

#### 验收标准

1. WHEN 创建文章设置时 THEN 系统应将数据存储到PostgreSQL数据库
2. WHEN 存储数据时 THEN 系统应自动记录创建时间和更新时间
3. WHEN 查询数据时 THEN 系统应按创建时间降序返回记录
4. WHEN 数据库操作失败时 THEN 系统应回滚事务并返回错误
5. WHEN 系统重启后 THEN 系统应能够正确加载所有历史记录
