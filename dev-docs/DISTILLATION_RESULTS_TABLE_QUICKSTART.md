# 蒸馏结果表格视图 - 快速启动指南

## 功能概述

蒸馏结果表格视图提供了一个全新的界面来查看和管理所有蒸馏生成的话题，主要特性包括：

- 📊 表格式展示，清晰直观
- 🔢 显示每个话题的被引用次数
- 🔍 强大的筛选和搜索功能
- ✅ 批量选择和删除
- 📈 实时统计信息

## 快速开始

### 1. 启动服务

```bash
# 启动后端服务
cd server
npm start

# 启动前端服务（新终端）
cd client
npm run dev
```

### 2. 访问页面

打开浏览器访问：`http://localhost:5173/distillation-results`

### 3. 使用功能

#### 查看蒸馏结果
- 页面自动加载所有蒸馏结果
- 表格显示：关键词、蒸馏结果、被引用次数、蒸馏时间
- 顶部显示统计信息卡片

#### 筛选数据
1. **按关键词筛选**: 从下拉框选择关键词
2. **按AI模型筛选**: 选择 DeepSeek、Gemini 或 Ollama
3. **搜索内容**: 在搜索框输入关键词（支持防抖）
4. **清除筛选**: 点击"清除筛选"按钮

#### 排序数据
- 点击列标题进行排序
- 支持按关键词、被引用次数、蒸馏时间排序

#### 批量删除
1. 勾选要删除的话题
2. 点击"删除选中"按钮
3. 确认删除操作

## 界面说明

### 统计卡片区域
```
┌─────────────┬─────────────┬─────────────┬─────────────┐
│ 总话题数    │ 关键词数量  │ 总被引用次数│ 当前显示    │
│ 50 个       │ 5 个        │ 120 次      │ 10 个       │
└─────────────┴─────────────┴─────────────┴─────────────┘
```

### 筛选工具栏
```
┌──────────────┬──────────────┬──────────────┬──────────┐
│ 按关键词筛选 │ 按AI模型筛选 │ 搜索问题内容 │ 清除筛选 │
└──────────────┴──────────────┴──────────────┴──────────┘
```

### 数据表格
```
┌───┬────────┬──────────────────┬────────────┬──────────────┐
│ ☐ │ 关键词 │ 蒸馏结果         │ 被引用次数 │ 蒸馏时间     │
├───┼────────┼──────────────────┼────────────┼──────────────┤
│ ☐ │ 英国留学│ 英国留学需要...  │ ③          │ 2024-01-15   │
│ ☐ │ Python │ Python如何...    │ ⓪          │ 2024-01-14   │
└───┴────────┴──────────────────┴────────────┴──────────────┘
```

## API 使用示例

### 前端调用

```typescript
import { fetchResultsWithReferences, deleteTopics } from '@/api/distillationResultsApi';

// 获取数据
const result = await fetchResultsWithReferences({
  keyword: '英国留学',
  page: 1,
  pageSize: 10
});

console.log(result.data);        // 话题列表
console.log(result.statistics);  // 统计信息

// 删除话题
await deleteTopics([1, 2, 3]);
```

### 后端API

```bash
# 获取蒸馏结果列表
curl "http://localhost:3000/api/distillation/results?page=1&pageSize=10"

# 按关键词筛选
curl "http://localhost:3000/api/distillation/results?keyword=英国留学"

# 批量删除话题
curl -X DELETE http://localhost:3000/api/distillation/topics \
  -H "Content-Type: application/json" \
  -d '{"topicIds": [1, 2, 3]}'
```

## 常见问题

### Q: 被引用次数是如何计算的？
A: 系统通过检查articles表中的内容，统计包含该话题的文章数量。

### Q: 为什么搜索有延迟？
A: 搜索使用了300ms的防抖优化，避免频繁计算，提升性能。

### Q: 删除话题会影响已生成的文章吗？
A: 不会。删除话题只是删除话题记录，不会影响已生成的文章。

### Q: 可以恢复删除的话题吗？
A: 不可以。删除操作是永久性的，请谨慎操作。

### Q: 筛选和搜索有什么区别？
A: 筛选（关键词、AI模型）在服务器端执行，搜索（话题内容）在前端本地执行。

## 性能提示

1. **大数据量**: 建议使用筛选功能缩小数据范围
2. **搜索优化**: 搜索在本地执行，不会增加服务器负担
3. **分页**: 默认每页显示10条，可调整为20、50、100

## 下一步

- 查看 [API文档](./DISTILLATION_RESULTS_TABLE_API.md) 了解详细的API规范
- 查看 [实施总结](./DISTILLATION_RESULTS_TABLE_IMPLEMENTATION.md) 了解技术细节
- 前往"关键词蒸馏"页面创建更多蒸馏结果

## 反馈

如有问题或建议，请联系开发团队。
